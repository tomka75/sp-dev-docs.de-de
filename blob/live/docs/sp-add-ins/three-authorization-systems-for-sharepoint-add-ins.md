---
title: "Drei Autorisierungssysteme für SharePoint-Add-Ins"
ms.date: 09/25/2017
ms.prod: sharepoint
ms.openlocfilehash: 0ada356729f13c91d60fc98cc22fb3d1a958542b
ms.sourcegitcommit: 1cae27d85ee691d976e2c085986466de088f526c
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/13/2017
---
# <a name="three-authorization-systems-for-sharepoint-add-ins"></a><span data-ttu-id="09a99-102">Drei Autorisierungssysteme für SharePoint-Add-Ins</span><span class="sxs-lookup"><span data-stu-id="09a99-102">Three authorization systems for SharePoint Add-ins</span></span>
<span data-ttu-id="09a99-103">Erfahren Sie mehr über die drei Systeme, die SharePoint-Add-Ins verwenden können, um die Autorisierung für SharePoint-Ressourcen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="09a99-103">Learn the three systems that SharePoint Add-ins can use to get authorization to SharePoint resources.</span></span>
 

 <span data-ttu-id="09a99-p101">**Hinweis** Der Name „Apps für SharePoint“ wird in „SharePoint-Add-Ins“ geändert. Während des Übergangszeitraums wird in der Dokumentation und der Benutzeroberfläche einiger SharePoint-Produkte und Visual Studio-Tools möglicherweise weiterhin der Begriff „Apps für SharePoint“ verwendet. Weitere Informationen finden Sie unter [Neuer Name für Office- und SharePoint-Apps](new-name-for-apps-for-sharepoint.md#bk_newname).</span><span class="sxs-lookup"><span data-stu-id="09a99-p101">**Note**  The name "apps for SharePoint" is changing to "SharePoint Add-ins". During the transition, the documentation and the UI of some SharePoint products and Visual Studio tools might still use the term "apps for SharePoint". For details, see  [New name for apps for Office and SharePoint](new-name-for-apps-for-sharepoint.md#bk_newname).</span></span>
 

<span data-ttu-id="09a99-p102">In SharePoint ist ein SharePoint-Add-In genau wie ein Benutzer ein Identitätsprinzipal, der für die Verwendung von SharePoint-Ressourcen authentifiziert und autorisiert werden muss. Ein Add-In kann drei Authorisierungssysteme verwenden. Sie schließen sich nicht gegenseitig aus.</span><span class="sxs-lookup"><span data-stu-id="09a99-p102">In SharePoint, a SharePoint Add-in is an identity principal just like a user and it must be authenticated and authorized to use SharePoint resources. There are three authorization systems that an add-in can use. They are not mutually exclusive.</span></span>
 

## <a name="understand-the-three-authorization-systems-and-when-to-use-them"></a><span data-ttu-id="09a99-110">So funktionieren die drei Authorisierungssysteme und dafür können sie verwendet werden</span><span class="sxs-lookup"><span data-stu-id="09a99-110">Understand the three authorization systems and when to use them</span></span>
<span data-ttu-id="09a99-111"><a name="UnderstandThreeSystems"> </a></span><span class="sxs-lookup"><span data-stu-id="09a99-111"></span></span>


 

 

-  <span data-ttu-id="09a99-p103">**Niedrige Vertrauensebene**: Eine vom Anbieter gehostete SharePoint-Add-In kann in Microsoft Azure Access Control Service (ACS) registriert werden. Dann wird ein Zugriffstoken für die App ausgestellt, mit dem die App auf die Ressourcen in der SharePoint-Mandantschaft oder -Farm zugreifen kann, in der die App installiert ist. Azure ACS ist der vertrauenswürdige Tokenherausgeber in einem OAuth 2.0 Framework-"Ablauf", zu dem SharePoint und die Remotekomponenten der App gehören. Apps, die dieses System verwenden, können im Office Store verkauft werden. Das System mit niedriger Vertrauensebene ist in erster Linie für Apps gedacht, deren Remotekomponenten in der Cloud gehostet sind.</span><span class="sxs-lookup"><span data-stu-id="09a99-p103">**Low-Trust**: A provider-hosted SharePoint Add-in can register with Microsoft Azure Access Control Service (ACS) which issues an access token to the add-in that allows the add-in access to the resources in the SharePoint tenancy or farm on which the add-in is installed. Azure ACS is the trusted token issuer in an OAuth 2.0 Framework "flow" that includes SharePoint and the remote components of the add-in. Add-ins that use this system can be sold in the Office Store. The low-trust system is primarily intended for add-ins whose remote components are hosted in the cloud.</span></span>
    
    <span data-ttu-id="09a99-116">Weitere Informationen zum Erstellen einer SharePoint-Add-In, die das System mit niedriger Vertauensebene verwendet, finden Sie im SDK-Knoten  [Erstellen von SharePoint-Add-Ins, die die Autorisierung mit niedriger Vertrauensebene verwenden](creating-sharepoint-add-ins-that-use-low-trust-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="09a99-116">For more information about creating a SharePoint Add-in that uses the low-trust system, see the SDK node  [Creating SharePoint Add-ins that use low-trust authorization](creating-sharepoint-add-ins-that-use-low-trust-authorization.md).</span></span>
    
     <span data-ttu-id="09a99-p104">**Hinweis** Der Kunde, der das Add-In installiert, muss über ein Office 365-Konto verfügen. Dieses ist erforderlich, damit das Add-In Zugriff auf Azure ACS hat. Der Kunde benötigt dieses Konto jedoch für keinen anderen Zweck, und dass Add-In kann in einer lokalen SharePoint-Farm installiert werden, nachdem einige einfache Konfigurationsaufgaben auf der Farm durchgeführt wurden.</span><span class="sxs-lookup"><span data-stu-id="09a99-p104">**Note**  The customer who installs the add-in must have an Office 365 account. This is needed to give the add-in access to the Azure ACS. However, the customer need not use the account for any other purpose, and the add-in can be installed to an on-premise SharePoint farm after some simple configuration tasks on the farm.</span></span>
-  <span data-ttu-id="09a99-p105">**Besonders vertrauenswürdig**: Eine vom Anbieter gehostete App kann eine Vertrauensstellung mit SharePoint einrichten, indem sie digitale Zertifikate verwendet. Das besonders vertrauenswürdige System ist primär für Apps vorgesehen, deren Remotekomponenten lokal gehostet werden. Die App kann in einer SharePoint-Farm installiert werden, die nicht mit dem Internet verbunden ist. Die App kann nicht auf SharePoint Online installiert oder im Office Store verkauft werden.</span><span class="sxs-lookup"><span data-stu-id="09a99-p105">**High-Trust**: A provider-hosted add-in can establish trust with SharePoint by using digital certificates. The high-trust system is primarily intended for add-ins whose remote components are hosted on-premise. The add-in can be installed to a SharePoint farm that is not connected to the Internet. The add-in cannot be installed on SharePoint Online or sold in the Office Store.</span></span>
    
    <span data-ttu-id="09a99-124">Weitere Informationen zum Erstellen einer SharePoint-Add-In die das besonders vertrauenswürdige System verwendet, finden Sie im SDK-Knoten  [Erstellen von Add-Ins für SharePoint, die eine Autorisierung mit hoher Vertrauenswürdigkeit verwenden](creating-sharepoint-add-ins-that-use-high-trust-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="09a99-124">For more information about creating a SharePoint Add-in that uses the high-trust system, see the SDK node  [Creating SharePoint Add-ins that use high-trust authorization](creating-sharepoint-add-ins-that-use-high-trust-authorization.md).</span></span>
    
 
-  <span data-ttu-id="09a99-p106">**Domänenübergreifende Bibliothek**: Wenn sich die Geschäftslogik der App in JavaScript befindet, können Sie die domänenübergreifende SharePoint- Bibliothek anstelle der oder als Ergänzung zum System mit niedriger Vertrauensebene oder dem besonders vertrauenswürdigen System verwenden. Die Bibliothek ist außerdem für Szenarien vorgesehen, in denen die App in der Cloud gehostete Komponenten aufweist, die Unternehmensfirewall des Kunden jedoch die Verwendung des Systems mit niedriger Vertrauensebene erschwert. Der Browser des Benutzers sperrt Skripts von anderen Domänen, die Bibliothek kapselt jedoch ein sicheres System, um diese Einschränkung zu umgehen. Apps, die die Bibliothek verwenden, können im Office Store verkauft und auf SharePoint Online oder lokal in SharePoint installiert werden.</span><span class="sxs-lookup"><span data-stu-id="09a99-p106">**Cross-Domain Library**: When the add-in's business logic is in JavaScript, you have the option of using the SharePoint cross-domain library either in place of, or as a supplement to, the low-trust and high-trust systems. The library is also intended for scenarios where the add-in has cloud-hosted components, but the customer's corporate firewall makes it difficult to use the low-trust system. The user's browser blocks scripts from other domains, but the library encapsulates a secure system for working around this restriction. Add-ins that use the library can be sold in the Office Store and can be installed to either SharePoint Online or on-premise SharePoint.</span></span>
    
    <span data-ttu-id="09a99-129">Weitere Informationen zum Erstellen einer SharePoint-Add-In, die die domänenübergreifende Bibliothek verwendet, finden Sie im SDK-Knoten  [Erstellen von SharePoint-Add-Ins, die die domänenübergreifende Bibliothek verwenden](creating-sharepoint-add-ins-that-use-the-cross-domain-library.md), dem Blogbeitrag  [Lösen von domänenübergreifenden Problemen in Apps für SharePoint](http://blogs.msdn.com/b/officeapps/archive/2012/11/29/solving-cross-domain-problems-in-apps-for-sharepoint.aspx).</span><span class="sxs-lookup"><span data-stu-id="09a99-129">For more information about creating a SharePoint Add-in that uses the cross-domain library, see the SDK node  [Creating SharePoint Add-ins that use the cross-domain library](creating-sharepoint-add-ins-that-use-the-cross-domain-library.md), the blog post  [Solving cross-domain problems in SharePoint Add-ins](http://blogs.msdn.com/b/officeapps/archive/2012/11/29/solving-cross-domain-problems-in-apps-for-sharepoint.aspx).</span></span>
    
 

## <a name="background-information-about-the-oauth-20-framework-and-the-sharepoint-implementation-of-it"></a><span data-ttu-id="09a99-130">Hintergrundinformationen zum OAuth 2.0-Framework und dessen SharePoint-Implementierung</span><span class="sxs-lookup"><span data-stu-id="09a99-130">Background information about the OAuth 2.0 Framework and the SharePoint implementation of it</span></span>
<span data-ttu-id="09a99-131"><a name="UnderstandThreeSystems"> </a></span><span class="sxs-lookup"><span data-stu-id="09a99-131"></span></span>

<span data-ttu-id="09a99-p107">Zwei der drei Autorisierungssysteme verwenden das OAuth 2.0-Framework. OAuth 2.0 ist ein **offenes Framework für die Autorisierung**. OAuth ermöglicht eine sichere Autorisierung von Desktopcomputern, Geräten und Webanwendungen auf eine Standardweise. Mit OAuth kann ein Benutzer eine Anwendung in seinem Namen agieren lassen, ohne seinen Benutzernamen und sein Kennwort weitergeben zu müssen. Beispielsweise ermöglicht OAuth **einem Benutzer die Weitergabe** von privaten Ressourcen (Kontaktlisten, Dokumenten, Fotos, Video usw.) von einer Website an eine andere, **ohne dass der Benutzer seine Anmeldeinformationen** (normalerweise Benutzername und Kennwort) auf der anderen Website angeben muss.</span><span class="sxs-lookup"><span data-stu-id="09a99-p107">Two of the three authorization systems, use the OAuth 2.0 Framework. OAuth 2.0 is an  **open framework for authorization**. OAuth enables secure authorization from desktop, device, and web applications in a standard way. OAuth enables a user to approve an application to act on his or her behalf without sharing his or her user name and password. For example, it **enables a user to share** his or her private resources or data (contact list, documents, photos, videos and so on) on one site with another site, **without requiring the user to provide his or her credentials** (typically user name and password) to the other site.</span></span>
 

 
<span data-ttu-id="09a99-p108">Mit OAuth können Benutzer Zugriffstoken für Daten bereitstellen, die bei einem bestimmten Dienstanbieter gehostet sind (wie SharePoint). Jedes Token gewährt Zugriff auf einen bestimmten Ressourcenanbieter (zum Beispiel eine SharePoint-Website) oder auf bestimmte Ressourcen (z. B. Dokumente in einer SharePoint-Dokumentbibliothek) für einen definierten Zeitraum (z. B. 12 Stunden). Damit kann ein Benutzer einer Drittanbieterwebsite oder einer Desktopanwendung Zugriff auf Informationen gewähren, die bei einer anderen Ressource oder einem anderen Dienstanbieter (wie SharePoint) gespeichert sind, ohne seinen Benutzernamen und sein Kennwort und ohne  *alle*  bei diesem Anbieter gespeicherten Daten weiterzugeben.</span><span class="sxs-lookup"><span data-stu-id="09a99-p108">OAuth enables users to provide access tokens to data that is hosted by a given service provider (such as SharePoint). Each token grants access to a specific resource provider (such as a SharePoint website), for specific resources (for example, documents in a SharePoint document library), and for a defined duration (for example, 12 hours). This enables a user to grant a third-party web or desktop application access to information that is stored with another resource or service provider (such as SharePoint), and to do so without sharing his or her user name and password and without sharing  *all*  the data that he or she has with the provider.</span></span>
 

 
<span data-ttu-id="09a99-140">SharePoint verwendet die **OAuth 2.0**-Framework**-Tokenübergabe-„Abläufe“** für die folgenden Zwecke:</span><span class="sxs-lookup"><span data-stu-id="09a99-140">SharePoint uses the  **OAuth 2.0** framework **uses token passing "flows"** to:</span></span>
 

 

- <span data-ttu-id="09a99-141">Autorisieren von Anforderungen eines SharePoint-Add-Ins für den Zugriff auf SharePoint-Ressourcen</span><span class="sxs-lookup"><span data-stu-id="09a99-141">Authorize requests by a SharePoint Add-in to access SharePoint resources.</span></span>
    
 
- <span data-ttu-id="09a99-142">Authentifizieren von Add-Ins im Office Store, einem Add-In-Katalog oder einem Entwicklermandanten</span><span class="sxs-lookup"><span data-stu-id="09a99-142">Authenticate add-ins in the Office Store, an add-in catalog, or a developer tenant.</span></span>
    
 
<span data-ttu-id="09a99-p109">Weitere Informationen und Hintergrundwissen zu OAuth und OAuth-Terminologie finden Sie unter  [OAuth.net](http://oauth.net/) und [Web Authorization Protocol (oauth)](http://datatracker.ietf.org/doc/active/). Insgesamt gibt es einen Ressourcenserver, der eine geschützte Ressource hostet, einen Eigentümer einer Ressource, eine Clientanwendung, die auf die Ressource zugreifen möchte, und einen Autorisierungsserver, der Zugriffstoken auf den Ressource ausstellt, wenn er vom Ressourceneigentümer dazu angewiesen wird. In der offiziellen OAuth-Dokumentation wird meist von einem Szenario ausgegangen, bei dem es einen einzigen Ressourceneigentümer gibt, der jedes Mal, wenn die Clientanwendung ausgeführt wird, Zugriff auf die Ressource von der Clientanwendung gewährt. Es wird außerdem davon ausgegangen, dass die Person, die die Clientanwendung verwendet, der Ressourceneigentümer ist. Die SharePoint-Implementierung berücksichtigt die Tatsache, dass eine SharePoint-Ressource, beispielsweise eine Liste, von mehreren Benutzer gemeinsam verwendet wird. In der SharePoint-Implementierung wird der SharePoint-Add-In außerdem der Zugriff gewährt, wenn sie installiert wird, nicht bei jeder Ausführung. Sie kann zudem von anderen Benutzern ausgeführt werden als der Person, die sie installiert und ihr den Zugriff gewährt hat. (Im Fall von Apps, die nicht in SharePoint installiert sind, aber auf SharePoint-Ressourcen zugreifen (und damit nur im erweiterten Sinn "SharePoint-Add-Ins" sind), muss der Benutzer, der die App ausführt, bei jeder Ausführung der App Berechtigungen gewähren.)</span><span class="sxs-lookup"><span data-stu-id="09a99-p109">For more information and background about OAuth and OAuth terminology, see  [OAuth.net](http://oauth.net/) and [Web Authorization Protocol (oauth)](http://datatracker.ietf.org/doc/active/). In sum, there is a resource server that hosts a protected resource, an owner of the resource, a client application which seeks access to the resource, and an authorization server that issues access tokens to the resource when instructed to by the resource owner. The official OAuth documentation tends to assume a scenario in which there is a single resource owner who grants access to the resource from the client application each time the client application is run. It also assumes that the person using the client application is the resource owner. The SharePoint implementation takes account of the fact that a SharePoint resource, such as a list, is shared among multiple users. Also, in the SharePoint implementation the SharePoint Add-in is granted access when it is installed, not each time it is run; and it can be run by users other than the person who installed it and granted it access. (In the case of add-ins that are not installed on SharePoint, but access SharePoint resources (so they are "SharePoint Add-ins" only in an extended sense), the user running the add-in does have to grant permissions each time the add-in is run.)</span></span>
 

 
<span data-ttu-id="09a99-150">In der SharePoint-Implementierung werden also die OAuth-Rollen von den folgenden Komponenten übernommen:</span><span class="sxs-lookup"><span data-stu-id="09a99-150">So, in the SharePoint implementation, the OAuth roles are played by the following components:</span></span>
 

 

- <span data-ttu-id="09a99-151">Die Remotekomponente einer SharePoint-Add-In übernimmt die Rolle der Clientanwendung.</span><span class="sxs-lookup"><span data-stu-id="09a99-151">The remote component of a SharePoint Add-in plays the role of the client application.</span></span>
    
 
- <span data-ttu-id="09a99-152">SharePoint-Benutzer übernehmen die Rolle des Ressourceneigentümers.</span><span class="sxs-lookup"><span data-stu-id="09a99-152">SharePoint users play the role of resource owner.</span></span>
    
 
- <span data-ttu-id="09a99-153">SharePoint übernimmt die Rolle des Ressourcenservers.</span><span class="sxs-lookup"><span data-stu-id="09a99-153">SharePoint plays the role of the resource server.</span></span>
    
 
- <span data-ttu-id="09a99-154">Azure ACS übernimmt die Rolle des Autorisierungsservers, wenn [das Autorisierungssystem mit niedriger Vertrauensstellung](creating-sharepoint-add-ins-that-use-low-trust-authorization.md) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="09a99-154">Azure ACS plays the role of the authorization server when  [the low-trust authorization system](creating-sharepoint-add-ins-that-use-low-trust-authorization.md) is used. When the the high-trust system is used, the add-in itself (along with a digitial certificate) becomes the authorization server.</span></span> <span data-ttu-id="09a99-155">Wenn [das System mit hoher Vertrauensstellung](creating-sharepoint-add-ins-that-use-high-trust-authorization.md) verwendet wird, wird das Add-In selbst (zusammen mit einem digitalen Zertifikat) zum Autorisierungsserver.</span><span class="sxs-lookup"><span data-stu-id="09a99-155">winazureacsshort plays the role of the authorization server when the low-trust authorization system is used. When the [the high-trust system](creating-sharepoint-add-ins-that-use-high-trust-authorization.md) is used, the add-in itself (along with a digitial certificate) becomes the authorization server.</span></span>
    
 

### <a name="access-tokens-are-not-sign-in-tokens"></a><span data-ttu-id="09a99-156">Zugriffstoken sind keine Anmeldetoken</span><span class="sxs-lookup"><span data-stu-id="09a99-156">Access tokens are not sign-in tokens</span></span>
<span data-ttu-id="09a99-157"><a name="FileName_uniquekeyword3"> </a></span><span class="sxs-lookup"><span data-stu-id="09a99-157"></span></span>

<span data-ttu-id="09a99-p111">Wie oben beschrieben, muss ein Add-In für den Zugriff auf Ressourcen ein Zugriffstoken von einem OAuth-Autorisierungsserver anfordern, der zuvor vom Ressourceneigentümer als vertrauenswürdiger Sicherheitstokenaussteller (STS) designiert wurde. Im Gegensatz dazu sind der WS-Verbund-STS und der passive Anmelde-Security Assertion Markup Language (SAML)-STS vorrangig dazu gedacht, Anmeldetoken auszugeben. In SharePoint wird ein OAuth-STS nicht für das Ausstellen von Anmeldetoken verwendet, das heißt, er wird nicht als Identitätsanbieter verwendet. Deshalb werden Sie keinen OAuth-STS auf der Benutzeranmeldeseite, im Abschnitt **Authentifizierungsanbieter** in der Zentraladministration oder der Personenauswahl in SharePoint aufgelistet sehen.</span><span class="sxs-lookup"><span data-stu-id="09a99-p111">As described above, to access resources, an add-in has to request an access token from an OAuth authorization server that has previously been designated as a trusted security token issuer (STS) by the resource owner. In contrast, the WS-Federation STS and the Security Assertion Markup Language (SAML) passive sign-in STS are primarily intended to issue sign-in tokens. In SharePoint, an OAuth STS is not used for issuing sign-in tokens, that is, they are not used as identity providers. So, you will not see an OAuth STS listed in the user sign-in page, the  **Authentication Provider** section in Central Administration, or the people picker in SharePoint.</span></span>
 

 
<span data-ttu-id="09a99-162">SharePoint-Administratoren können Windows PowerShell-Befehle verwenden, um einen OAuth-STS zu aktivieren oder zu deaktivieren, ähnlich wie das Aktivieren oder Deaktivieren von vertrauenswürdigen Anmeldeanbietern in SharePoint 2010.</span><span class="sxs-lookup"><span data-stu-id="09a99-162">SharePoint administrators can use Windows PowerShell commands to enable or disable an OAuth STS, similar to how they can enable or disable trusted login providers in SharePoint 2010.</span></span> 
 

 

