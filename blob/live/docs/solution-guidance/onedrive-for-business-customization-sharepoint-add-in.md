---
title: OneDrive for Business Anpassung in der SharePoint-add-in-Objektmodell
ms.date: 11/03/2017
ms.openlocfilehash: 321dd53b1c8040318069edbbc4471bf47c27c7f2
ms.sourcegitcommit: 65e885f547ca9055617fe0871a13c7fc85086032
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/06/2017
---
<a name="onedrive-for-business-customization-in-the-sharepoint-add-in-model"></a><span data-ttu-id="81156-102">OneDrive for Business Anpassung in der SharePoint-add-in-Objektmodell</span><span class="sxs-lookup"><span data-stu-id="81156-102">OneDrive for Business customization in the SharePoint add-in model</span></span>
==================================================================

<a name="summary"></a><span data-ttu-id="81156-103">Summary</span><span class="sxs-lookup"><span data-stu-id="81156-103">Summary</span></span>
-------

<span data-ttu-id="81156-104">Ansatz verwenden Sie zum Anpassen von OneDrive für Websites mit Geschäftsdaten in das neue SharePoint-Add-in-Modell ist gegenüber mit vollständigen vertrauen Code geändert.</span><span class="sxs-lookup"><span data-stu-id="81156-104">The approach you take to customize OneDrive for Business sites in the new SharePoint Add-in model is different than it was with Full Trust Code.</span></span>  <span data-ttu-id="81156-105">In einer typischen vollständige vertrauen Code (FTC) / SharePoint-Zeitgeberaufträgen Farmlösung Szenario wurden durch den SharePoint Server-Side Object Model Code erstellt, über Farmlösungen bereitgestellt und in der Website der SharePoint-Zentraladministration verwaltet.</span><span class="sxs-lookup"><span data-stu-id="81156-105">In a typical Full Trust Code (FTC) / Farm Solution scenario, SharePoint Timer Jobs were created with the SharePoint Server Side Object Model code, deployed via Farm Solutions and managed in the SharePoint Central Administration web site.</span></span>  <span data-ttu-id="81156-106">SharePoint verarbeitet die Planung und die Ausführung des Zeitgeberauftrags in diesem Szenario.</span><span class="sxs-lookup"><span data-stu-id="81156-106">SharePoint handles both the scheduling and the execution of the timer job in this scenario.</span></span> 

<span data-ttu-id="81156-107">In einem Szenario mit SharePoint-Add-Ins Modell Zeitgeberaufträge erstellt und außerhalb von SharePoint geplant.</span><span class="sxs-lookup"><span data-stu-id="81156-107">In an SharePoint Add-in model scenario, timer jobs are created and scheduled outside of SharePoint.</span></span>  <span data-ttu-id="81156-108">SharePoint ist nicht für die Planung oder die Ausführung des Zeitgeberauftrags in diesem Szenario verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="81156-108">SharePoint is not responsible for the scheduling or the execution of the timer job in this scenario.</span></span>

<a name="why-would-you-customize-onedrive-for-business-sites"></a><span data-ttu-id="81156-109">Warum würde OneDrive for Business-Websites werden angepasst?</span><span class="sxs-lookup"><span data-stu-id="81156-109">Why would you customize OneDrive for Business sites?</span></span>
----------------------------------------------------
<span data-ttu-id="81156-110">Zahlreiche verschiedene Aspekte Leuchten Anpassung zu OneDrive für Unternehmen (OD4B) Websites anwenden.</span><span class="sxs-lookup"><span data-stu-id="81156-110">There are numerous different aspects on applying customization to OneDrive for Business (OD4B) sites.</span></span> <span data-ttu-id="81156-111">Sie können diese Websites natürlich, da sie die SharePoint-Websites sind, aber gleichzeitig immer Sie die kurz- und langfristigen Auswirkungen der Anpassung sollten anpassen.</span><span class="sxs-lookup"><span data-stu-id="81156-111">You certainly can customize these sites, since they are SharePoint sites, but at the same time you should always consider the short and long term impact of the customization.</span></span>

<a name="high-level-guidelines"></a><span data-ttu-id="81156-112">Hohe Stufe Richtlinien</span><span class="sxs-lookup"><span data-stu-id="81156-112">High Level Guidelines</span></span>
---------------------

<span data-ttu-id="81156-113">In der Regel von einer Ziehpunkt möchten wir die folgenden Richtlinien auf hohen Ebenen für das Anpassen von OD4B Websites bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="81156-113">As a rule of a thumb, we would like to provide the following high level guidelines for customizing OD4B sites.</span></span>

- <span data-ttu-id="81156-114">Anwenden von branding anpassen, die mit Office 365-Designs oder Designmodul für SharePoint-Website</span><span class="sxs-lookup"><span data-stu-id="81156-114">Apply branding customization using Office 365 themes or SharePoint site theming engine</span></span>
- <span data-ttu-id="81156-115">Wenn Design Module nicht genug sind, können Sie einige CSS-Einstellungen mit alternativen CSS-Option anpassen.</span><span class="sxs-lookup"><span data-stu-id="81156-115">If theme engines are not enough, you can adjust some CSS settings using alternate CSS option</span></span>
- <span data-ttu-id="81156-116">Vermeiden Sie OD4B-Websites mithilfe von benutzerdefinierten Gestaltungsvorlagen, da Sie zusätzliche langfristig Kosten und Probleme mit zukünftige Updates Dadurch wird anpassen</span><span class="sxs-lookup"><span data-stu-id="81156-116">Avoid customizing OD4B sites using custom master pages, since this will cause you additional long term costs and challenges with future updates</span></span>
    + <span data-ttu-id="81156-117">In den meisten Fällen erreichen Sie alle branding Standardszenarien mit Designs und alternative CSS, damit dies nicht wirklich diese Beschränkung ist</span><span class="sxs-lookup"><span data-stu-id="81156-117">In most of the cases, you can achieve all common branding scenarios with themes and alternate CSS, so this is not really that limiting factor</span></span>
    + <span data-ttu-id="81156-118">Wenn Sie benutzerdefinierte Masterseiten verwenden möchten, bereiten Sie zum Anwenden von Änderungen auf die Websites, wenn wichtige Updates funktionsfähig zu Office 365 angewendet werden</span><span class="sxs-lookup"><span data-stu-id="81156-118">If you chose to use custom master pages, be prepared on applying changes to the sites when major functional updates are applied to Office 365</span></span>
- <span data-ttu-id="81156-119">Sie können zum Ändern oder Ausblenden von Funktionen in der Website Einbetten von JavaScript</span><span class="sxs-lookup"><span data-stu-id="81156-119">You can use JavaScript embedding to modify or hide functionality in the site</span></span>
- <span data-ttu-id="81156-120">CSOM können Sie beispielsweise steuern Sprache oder regionalen Einstellungen in der OD4B-Websites (siehe [neue APIs](http://blogs.msdn.com/b/vesku/archive/2014/12/15/latest-api-updates-in-client-side-object-model-dec-2014-cu-for-sp2013.aspx))</span><span class="sxs-lookup"><span data-stu-id="81156-120">You can use CSOM to control for example language or regional settings in the OD4B sites (see [new APIs](http://blogs.msdn.com/b/vesku/archive/2014/12/15/latest-api-updates-in-client-side-object-model-dec-2014-cu-for-sp2013.aspx))</span></span>
- <span data-ttu-id="81156-121">Wir empfehlen nicht die Verwendung von Inhaltstypen und Websitespalten in OD4B Websites zur Vermeidung von Problemen mit den erforderlichen Feldern oder andere Elemente, die wodurch Probleme bei normalen Anwendungsfälle mit OD4B Websites könnte</span><span class="sxs-lookup"><span data-stu-id="81156-121">We do not recommend usage of content types and site columns in OD4B sites to avoid challenges with the required fields or other elements, which could cause issues for normal use cases with OD4B sites</span></span>
    + <span data-ttu-id="81156-122">Stellen Sie sich OD4B Websites wie für persönliche unstrukturierte Daten und Dokumenten.</span><span class="sxs-lookup"><span data-stu-id="81156-122">Think OD4B sites as for personal unstructured data and documents.</span></span> <span data-ttu-id="81156-123">Teamwebsites und befindet sich für die Zusammenarbeit sind dann für Unternehmensdaten und Dokumente, in dem Sie sicherlich jegliches Informationsverwaltungsrichtlinien und Metadaten verwenden können, sollen.</span><span class="sxs-lookup"><span data-stu-id="81156-123">Team sites and collaboration sits are then for company data and documents where you can certainly use whatever information management policies and metadata you want.</span></span>

<span data-ttu-id="81156-124">Als eine Zusammenfassung Anpassung wird auf jeden Fall in Office 365 unterstützt und Sie können beibehalten auf ihrer Verwendung in OD4B Websites.</span><span class="sxs-lookup"><span data-stu-id="81156-124">As a summary, customization is definitely supported in Office 365 and you can keep on using them with OD4B sites.</span></span> <span data-ttu-id="81156-125">Nur tatsächlich möchten wir sicherstellen, dass Sie die kurz- und langfristigen Auswirkungen der Anpassung von Betrieb und Wartung Perspektive berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="81156-125">We just truly want to ensure that you consider the short and long term impact of the customization from operational and maintenance perspective.</span></span> <span data-ttu-id="81156-126">Dies ist nicht wirklich spezifisch für SharePoint, vielmehr Daumenregel für alle IT-Lösung Build mit einer beliebigen Plattform.</span><span class="sxs-lookup"><span data-stu-id="81156-126">This is not really specific for SharePoint, rather a rule of thumb for any IT solution build with any platform.</span></span>

<span data-ttu-id="81156-127">Es folgt ein Beispiel der OD4B-Website, die von oben angegebenen Richtlinien angepasst wurde.</span><span class="sxs-lookup"><span data-stu-id="81156-127">Here’s an example of OD4B site, which has been customized using above guidelines.</span></span> <span data-ttu-id="81156-128">In diesem Fall hat das Endergebnis mit Kombination von Office 365-Designs, Websitedesign und Nutzung von so genannte JavaScript Einbetten von Muster erreicht wurde.</span><span class="sxs-lookup"><span data-stu-id="81156-128">In this case the end result has been achieved with combination of Office 365 themes, site theme and usage of so called JavaScript embedding pattern.</span></span>

![Eine Ansicht einer nach Abschluss des Vorgangs benutzerdefinierte OD4B-Website.](media/Recipes/OD4BCustomization/OD4B-branded.png)

<a name="challenge-with-applying-onedrive-for-business-site-customizations"></a><span data-ttu-id="81156-130">Anwenden von OneDrive for Business-websiteanpassungen-Abfrage</span><span class="sxs-lookup"><span data-stu-id="81156-130">Challenge with applying OneDrive for Business site customizations</span></span>
-----------------------------------------------------------------

<span data-ttu-id="81156-131">Beginnen Sie mit definieren, was die Herausforderung ist, und was versuchen wir hier lösen.</span><span class="sxs-lookup"><span data-stu-id="81156-131">Let’s start with defining what is the challenge and what are we trying to solve here.</span></span> <span data-ttu-id="81156-132">Technisch gesehen jedes OneDrive for Business-Website ist zurzeit identisch-Architektur in der persönlichen oder Meine Websites in SharePoint 2007 oder 2010 Version verwendet verwenden.</span><span class="sxs-lookup"><span data-stu-id="81156-132">Technically each OneDrive for Business site is currently using identical architecture as what the personal or my sites used  back in SharePoint 2007 or 2010 version.</span></span> <span data-ttu-id="81156-133">Dies bedeutet, technisch jedes OneDrive für Business-Website ihre eigene Websitesammlung ist und wir keine zentralen Ort zum branding oder eines anderen Anpassungen gelten müssen.</span><span class="sxs-lookup"><span data-stu-id="81156-133">This means that technically each OneDrive for Business site is their own site collection and we do not have any centralized location to apply branding or any other customizations.</span></span>

![Jede OneDrive for Business-Website ist eine eigene Websitesammlung unter der verwaltete Pfad der persönlichen und jede Url wird basierend auf dem Benutzerprofil erstellt.](media/Recipes/OD4BCustomization/OD4B-topolgy.png)

<span data-ttu-id="81156-136">Klassische Lösung erforderlichen Konfiguration auf die OneDrive for Business-Websites anwenden (einschließlich Meine oder persönliche Websites) wurde basierend auf [Funktion Heften in auf Farmebene](http://cks.codeplex.com/releases/view/2824).</span><span class="sxs-lookup"><span data-stu-id="81156-136">Classic solution to apply needed configuration to the OneDrive for Business sites (including my or personal sites) was based on [feature stapling in farm level](http://cks.codeplex.com/releases/view/2824).</span></span> <span data-ttu-id="81156-137">Dies bedeutete, dass Sie farmlösung für die SharePoint-Farm bereitgestellt und Feature-Framework zum Zuordnen von Ihrem benutzerdefinierten Features jedes Mal aktiviert werden verwendet eine Meine Website erstellt wurden, klicken Sie dann der Anwendung erforderlichen Anpassungen verantwortlich war.</span><span class="sxs-lookup"><span data-stu-id="81156-137">This meant that you deployed farm solution to your SharePoint farm and used feature framework to associate your custom feature to be activated each time a my site is crated, which was then responsible of applying needed customizations.</span></span> <span data-ttu-id="81156-138">Diese ähnlichen Ansatz funktioniert nicht in Office 365, da es erfordert farmlösung bereitgestellt werden und das geht einfach mit Office 365-Websites.</span><span class="sxs-lookup"><span data-stu-id="81156-138">This similar approach does not work in Office 365, since it requires farm solution to be deployed and that is simply impossible with Office 365 sites.</span></span> <span data-ttu-id="81156-139">Daher müssen wir Alternativen zum Anwenden der erforderlichen Änderungen auf die Websites zu suchen.</span><span class="sxs-lookup"><span data-stu-id="81156-139">Therefore we need to look alternatives to apply the needed changes to the sites.</span></span>

<span data-ttu-id="81156-140">In Office 365 es keine zentrale Ereignis ausgelöst ist, die wir unsere benutzerdefinierten Code, wenn verbinden konnte wird OD4B-Website erstellt.</span><span class="sxs-lookup"><span data-stu-id="81156-140">In Office 365 there is no centralized event raised, which we could attach our custom code to when OD4B site is created.</span></span> <span data-ttu-id="81156-141">Dies bedeutet, dass wir genauer alternative Lösungen müssen also durchaus üblich mit app-Modell Ansätze.</span><span class="sxs-lookup"><span data-stu-id="81156-141">This means that we need to think about alternative solutions, which is quite common with app model approaches.</span></span> <span data-ttu-id="81156-142">Führen Sie nicht auf dem alten Modellen bleiben Sie, überlegen Sie, wie Sie dieselbe Endergebnis mit neuen APIs und Technologien zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="81156-142">Do not get stuck on old models, think about how to achieve same end result using new APIs and technologies.</span></span> <span data-ttu-id="81156-143">Im Hinblick auf reine Anforderung es spielt keine Rolle wirklich wie wir die Anpassungen anwenden auf den Websites, solange sie angewendet werden, da geschäftsanforderung ist nicht für das Heften Feature verwenden, er hat zum Anwenden benötigt Anpassungen mit, was unterstützt Technische Mechanismus.</span><span class="sxs-lookup"><span data-stu-id="81156-143">From pure requirement perspective, it does not really matter how we apply the customizations to the sites, as long as they are applied, since business requirement is not to use feature stapling, it’s about applying needed customizations using whatever supported technical mechanism.</span></span>

<a name="different-options-for-applying-customization"></a><span data-ttu-id="81156-144">Verschiedene Optionen zum Anwenden der Anpassung</span><span class="sxs-lookup"><span data-stu-id="81156-144">Different options for applying customization</span></span>
============================================

<span data-ttu-id="81156-145">In der Praxis haben wir vier verschiedene Mechanismen OD4B Websites in Office 365 zentralisierte Anpassung zuweisen.</span><span class="sxs-lookup"><span data-stu-id="81156-145">In practice we do have four different mechanisms to apply centralized customization to OD4B sites in the Office 365.</span></span> <span data-ttu-id="81156-146">Sie könnten auch manuelle Option wie der fünften berücksichtigen, aber im Fall müssen Hunderte oder Tausende von OD4B Websites, mit der manuellen Optionen ist nicht wirklich eine realistische Option.</span><span class="sxs-lookup"><span data-stu-id="81156-146">You could also consider manual option as the fifth one, but in the case of having hundreds or thousands of OD4B sites, using manual options is not really a realistic option.</span></span> <span data-ttu-id="81156-147">Nachfolgend finden Sie die verschiedenen Optionen haben wir.</span><span class="sxs-lookup"><span data-stu-id="81156-147">Here’s the different options we have.</span></span>

1. <span data-ttu-id="81156-148">Office 365-Suite-Ebene Settings (Office 365-Designs und andere Einstellungen)</span><span class="sxs-lookup"><span data-stu-id="81156-148">Office 365 suite level settings (Office 365 themes and other settings)</span></span>
2. <span data-ttu-id="81156-149">Ausgeblendete app-Webpart mit Benutzerkontext</span><span class="sxs-lookup"><span data-stu-id="81156-149">Hidden app part with user context</span></span>
3. <span data-ttu-id="81156-150">Vor dem Erstellen und Anwenden von Konfiguration</span><span class="sxs-lookup"><span data-stu-id="81156-150">Pre-create and apply configuration</span></span>
4. <span data-ttu-id="81156-151">Remote Zeitgeberauftrag basierend auf Profil benutzeraktualisierungen</span><span class="sxs-lookup"><span data-stu-id="81156-151">Remote timer job based on user profile updates</span></span>

<span data-ttu-id="81156-152">Die Optionen haben Vorteile und Nachteile in diese und die richtige Option hängt von Ihrer detaillierte geschäftlichen Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="81156-152">Each of the options have advantages and disadvantages in them and the right option depends on your detailed business requirements.</span></span> <span data-ttu-id="81156-153">Einige dieser Einstellungen Sie können auch anwenden der Office 365-Suite-Ebene, aber häufig würde werden Suchen Sie einige weitere Einzelheiten damit tatsächliche Anpassungen erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="81156-153">Some of the settings you can also apply from the Office 365 suite level, but often you would be looking for some more specifics, so actual customizations are needed.</span></span> <span data-ttu-id="81156-154">Natürlich kommt es auf die genaue Anforderungen und betriebliche Analysen auf deren Einfluss auf die kurz- und langfristigen.</span><span class="sxs-lookup"><span data-stu-id="81156-154">It obviously all comes down on exact requirements and business case analyses on their impact on short and long term.</span></span>

<a name="office-365-suite-level-settings"></a><span data-ttu-id="81156-155">Office 365-Suite Einstellungen auf Poolebene</span><span class="sxs-lookup"><span data-stu-id="81156-155">Office 365 suite level settings</span></span>
-------------------------------

<span data-ttu-id="81156-156">Office 365 ist viel mehr als nur SharePoint, wie Sie kennen.</span><span class="sxs-lookup"><span data-stu-id="81156-156">Office 365 is much more than just SharePoint, like you know.</span></span> <span data-ttu-id="81156-157">Finden Sie mehr zusätzliche Dienste die nicht auch der SharePoint-Architektur, wie Delve, Yammer und viele anstehende Dienste basieren.</span><span class="sxs-lookup"><span data-stu-id="81156-157">You can find more and more additional services which are not based on even the SharePoint architecture, like Delve, Yammer and many upcoming services.</span></span> <span data-ttu-id="81156-158">Dies bedeutet, dass die Enterprise branding und Konfiguration ist nicht praktisch steuern was wir in der SharePoint-Websites haben, vielmehr wir sollten werden Planen der allgemeinen Endbenutzer Erfahrung und wie wir stellen, dass die einheitliche Konfigurationen verschiedene Dienste schneidet.</span><span class="sxs-lookup"><span data-stu-id="81156-158">This means that the enterprise branding and configuration is not just about controlling what we have in the SharePoint sites, rather we should be thinking the overall end user experience and how we provide consistent configurations cross different services.</span></span>

<span data-ttu-id="81156-159">Klassisches Beispiel für diesen Anforderungen Enterprise ist branding und dafür haben wir bereits Office 365 Designoberfläche eingeführt, die verwendet werden kann, um einige branding steuern.</span><span class="sxs-lookup"><span data-stu-id="81156-159">Classic example of these enterprise requirements is branding and for that we have already Office 365 theming introduced, which can be used to control some level of branding.</span></span> <span data-ttu-id="81156-160">Wir haben auch andere in Kürze verfügbare Features, einschließlich der hilfreichen steuern die Steuerung Ihrer Website und andere Einstellungen, aus der zentralen Ort außerhalb der websitesammlungseinstellungen, wie das anstehende Compliance Center für Office 365, die derzeit in der [aufgeführt ist Wegweiser für Office 365](http://office.microsoft.com/en-us/products/office-365-roadmap-FX104343353.aspx).</span><span class="sxs-lookup"><span data-stu-id="81156-160">We have also other upcoming features, which will help to control your site governance and other settings, from centralized location outside of the site collection settings, like the upcoming Compliance Center for Office 365, which is currently listed in the [Office 365 roadmap](http://office.microsoft.com/en-us/products/office-365-roadmap-FX104343353.aspx).</span></span>

<span data-ttu-id="81156-161">Folgende Abbildung zeigt die unterschiedlichen Einstellungen jetzt für die Office 365-Designoberfläche, die dann firewallübergreifenden alle Office 365-Dienste angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="81156-161">Following picture shows the different settings right now for the Office 365 theming, which will be then applied cross all Office 365 services.</span></span>

![Zeigt die Office 365-Website mit der benutzerdefinierten Designs Registerkartenseite berechtigt Verwalten benutzerdefinierter Designs für Ihre Organisation, Anpassen von Office 365 zu einer Ihrer Organisation der Marke widerspiegeln.](media/Recipes/OD4BCustomization/O365-theme-settings.png)

<span data-ttu-id="81156-164">Da standardmäßig Einstellungen für Office 365-Design für steuernde OD4B Website Suite Balken sind, werden in den meisten Fällen verwenden Sie diese Optionen zusammen mit anderen Optionen um sicherzustellen, dass Sie mindestens bereitstellen können, dass die richtigen Brandingelemente Ihre Websites OD4B schneidet.</span><span class="sxs-lookup"><span data-stu-id="81156-164">Since by default Office 365 theme settings are for controlling OD4B site suite bar, you will most likely be using this options together with other options to ensure that you can provide at least the right branding elements cross your OD4B sites.</span></span> <span data-ttu-id="81156-165">Beachten Sie, wenn Sie beispielsweise Office 365 Design für Office 365-Verwaltungstool ändern, es dauert, ziemlich sehr lange angewendeten für OD4B Websites, für die erste also Verständnis sein.</span><span class="sxs-lookup"><span data-stu-id="81156-165">Notice that when you change for example Office 365 theme settings in Office 365 admin tool, it does take a quite a long time to get the settings applied for OD4B sites, so be patience.</span></span>

<a name="hidden-app-part-with-user-context"></a><span data-ttu-id="81156-166">Ausgeblendete app-Webpart mit Benutzerkontext</span><span class="sxs-lookup"><span data-stu-id="81156-166">Hidden app part with user context</span></span>
---------------------------------

<span data-ttu-id="81156-167">Hierbei handelt es sich um einen Ansatz verwenden zentralisiert, in dem Zielseite als Speicherort für den benötigten Anpassungsprozess starten.</span><span class="sxs-lookup"><span data-stu-id="81156-167">This is an approach where use centralized landing page as the location for starting the needed customization process.</span></span> <span data-ttu-id="81156-168">Dies bedeutet, dass Sie an einem zentralen Ort wie Unternehmen Intranet Front-Seite haben, in dem der Benutzer immer beim Öffnen von ihrem Browser Zielseite werden müssten.</span><span class="sxs-lookup"><span data-stu-id="81156-168">This means that you would have to have one centralized location, like company intranet front page, where the users are always landing when they open up their browser.</span></span> <span data-ttu-id="81156-169">Dies ist ziemlich typische Prozess mit mittelgroße und größere Unternehmen wobei corporate Zielseite dann mithilfe von Gruppenrichtlinien in den Active Directory gesteuert.</span><span class="sxs-lookup"><span data-stu-id="81156-169">This is pretty typical process with midsized and larger enterprises where corporate landing page is then controlled using group policy settings in the AD.</span></span> <span data-ttu-id="81156-170">Dadurch wird sichergestellt, dass Endbenutzer können Sie nicht die standardmäßige Willkommensseite der Domäne beitreten Browser Unternehmen überschreiben.</span><span class="sxs-lookup"><span data-stu-id="81156-170">This will ensure that end users cannot override default welcome page of the company domain joined browsers.</span></span>

<span data-ttu-id="81156-171">Wenn Benutzer mit dem Intranet eingeht, haben wir wird app-Webpart auf der Seite ausgeblendet die den Anpassungsprozess gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="81156-171">When user arrives to the intranet, we will have hidden app part in the page, which will start the customization process.</span></span> <span data-ttu-id="81156-172">Es können tatsächlich von der gesamten OD4B Site Creation auch zuständig sein, da normalerweise Benutzer die Website OD4B einmal besuchen müssten Zeit, bevor die websiteerkennungsprozess gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="81156-172">It can actually be responsible of the whole OD4B site creation as well, since normally user would have to visit the OD4B site once time, before the site creation process will be started.</span></span> <span data-ttu-id="81156-173">Ausgeblendete app-Webpart ist tatsächlich eine Seite vom Anbieter gehosteten app in Azure gehostete hosten.</span><span class="sxs-lookup"><span data-stu-id="81156-173">Hidden app part is actually hosting a page from provider hosted app hosted in Azure.</span></span> <span data-ttu-id="81156-174">Diese Seite ist dann starten Sie den Anpassungsprozess verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="81156-174">This page is then responsible of starting the customization process.</span></span>

<span data-ttu-id="81156-175">Lassen Sie uns näher auf der logische Entwurf dieses Ansatzes.</span><span class="sxs-lookup"><span data-stu-id="81156-175">Let’s have a closer look on the logical design of this approach.</span></span>

![Diagramm zum Anzeigen der Beziehungen.](media/Recipes/OD4BCustomization/hidden-app-part-logical-diagram.png)

1. <span data-ttu-id="81156-181">Ort ausgeblendet app-Webparts zum zentralen Standort, auf dem Endbenutzer sorgt wird.</span><span class="sxs-lookup"><span data-stu-id="81156-181">Place hidden app part to centralized site where end users will land.</span></span> <span data-ttu-id="81156-182">In der Regel ist dies das Unternehmensintranet-Startseite.</span><span class="sxs-lookup"><span data-stu-id="81156-182">Typically this is the corporate intranet front page.</span></span>
2. <span data-ttu-id="81156-183">App-Webpart eine Seite vom Anbieter gehosteten app, gehostet werden, wobei in den serverseitigen Code wir den Anpassungsprozess initiieren, indem Sie erforderlichen Metadaten der Azure-Speicher-Warteschlange hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="81156-183">App part is hosting a page from provider hosted app, where in the server side code we initiate the customization process by adding needed metadata to the azure storage queue.</span></span> <span data-ttu-id="81156-184">Dies bedeutet, dass diese Seite wird nur die Anpassung Anforderung empfangen, aber Änderungen die Verarbeitungszeit normalen beibehalten wird nicht tatsächlich angewendet.</span><span class="sxs-lookup"><span data-stu-id="81156-184">This means that this page will only receive the customization request, but will not actually apply any changes to keep the processing time normal.</span></span>
3. <span data-ttu-id="81156-185">Dies ist die Warteschlange tatsächlichen Azure-Speicher, die Nachrichten, die in die Warteschlange für die Verarbeitung empfangen.</span><span class="sxs-lookup"><span data-stu-id="81156-185">This is the actual azure storage queue, which will receive the messages to queue for processing.</span></span> <span data-ttu-id="81156-186">Auf diese Weise können wir die Anpassung Prozess asynchron steuern, sodass es wie lange Endbenutzer eigentlich keine Rolle spielt behandeln wird in der ersten Seite des Intranets bleiben.</span><span class="sxs-lookup"><span data-stu-id="81156-186">This way we can handle the customization controlling process asynchronously so that it does not really matter how long end user will stay on the front page of the Intranet.</span></span> <span data-ttu-id="81156-187">Wenn der Anpassungsprozess synchrone wäre, würden wir werden abhängig vom Endbenutzer im Browser in der Front-Seite im Intranet geöffnet lassen, bis die seitenausführung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="81156-187">If the customization process would be synchronous, we would be dependent on end user to keep the browser open in the Intranet front page until page execution is finalized.</span></span> <span data-ttu-id="81156-188">Dies nicht auf jeden Fall würde eine optimale und es Stand vor der Herausforderung, mit dem [ursprünglichen OD4B Anpassungsvorgang](http://blogs.msdn.com/b/vesku/archive/2013/11/25/office365-apply-automatically-custom-branding-to-personal-site-skydrive-pro.aspx), welche ich einem Blog beschrieben hat, während zurück.</span><span class="sxs-lookup"><span data-stu-id="81156-188">This would not definitely be optimal and it was the challenge with the [original OD4B customization process](http://blogs.msdn.com/b/vesku/archive/2013/11/25/office365-apply-automatically-custom-branding-to-personal-site-skydrive-pro.aspx), which I blogged while back.</span></span>
4. <span data-ttu-id="81156-189">WebJob verknüpft, um die Speicherwarteschlange führen die aufgerufen wird, wenn ein neues Element in die Speicherwarteschlange platziert wird.</span><span class="sxs-lookup"><span data-stu-id="81156-189">WebJob hooked to follow the storage queue, which is called when new item is placed to the storage queue.</span></span> <span data-ttu-id="81156-190">In diesem WebJob erhält die erforderlichen Parameter und Metadaten aus der Nachricht in der Warteschlange auf rechten Websitesammlung zugreifen.</span><span class="sxs-lookup"><span data-stu-id="81156-190">This WebJob will receive the needed parameters and metadata from the queued message to access right site collection.</span></span> <span data-ttu-id="81156-191">WebJob app nur token verwendet und haben die erforderlichen Berechtigungen zum Bearbeiten von Websitesammlungen in der Ebene der Mandant gewährt wurde.</span><span class="sxs-lookup"><span data-stu-id="81156-191">WebJob is using app only token and have been granted the needed permissions to manipulate site collections in the tenant level.</span></span>
5. <span data-ttu-id="81156-192">Tatsächliche Anpassungen sind nacheinander angewendet, auf Websites für die Personen, die besuchen die Front-Intranet-Seite, um den zu starten.</span><span class="sxs-lookup"><span data-stu-id="81156-192">Actual customizations are applied one-by-one to those people’s sites who visit the intranet front page to start the process.</span></span>
<span data-ttu-id="81156-193">Dies ist auf jeden Fall den zuverlässigste Prozess, um sicherzustellen, dass die richtige Konfigurationen auf den Websites OD4B vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="81156-193">This is definitely the most reliable process of ensuring that there’s right configurations in the OD4B sites.</span></span> <span data-ttu-id="81156-194">Sie können auf einfache Weise Anpassung Versioning Logik, an den Prozess hinzufügen auch benötigte Updates auf den Websites OD4B anwenden ist, wenn eine Aktualisierung erforderlich ist und Benutzer Intranet-Startseite beim nächsten besucht.</span><span class="sxs-lookup"><span data-stu-id="81156-194">You can easily add customization versioning logic to the process, which is also applying any needed updates to the OD4B sites, when there is an update needed and user visits the Intranet front page next time.</span></span> <span data-ttu-id="81156-195">Diese Option erfordert jedoch, dass Sie diesen zentralen Speicherort verfügen, in dem die Endbenutzer Zielseite sind.</span><span class="sxs-lookup"><span data-stu-id="81156-195">This option does however require that you have that centralized location where your end users are landing.</span></span>

<span data-ttu-id="81156-196">Wenn Sie der klassische Modelle der SharePoint-Entwicklung mit farmlösungen vertraut sind, ist dies als einmal ausführen von Zeitgeberaufträgen sehr ähnlich.</span><span class="sxs-lookup"><span data-stu-id="81156-196">If you are familiar of classic SharePoint development models with farm solutions, this is pretty similar process as one time executing timer jobs.</span></span>

<a name="pre-create-and-apply-configuration"></a><span data-ttu-id="81156-197">Vor dem Erstellen und Anwenden von Konfiguration</span><span class="sxs-lookup"><span data-stu-id="81156-197">Pre-create and apply configuration</span></span>
----------------------------------

<span data-ttu-id="81156-198">Diese Option basiert auf das vor dem Erstellen der OD4B Websites, bevor Benutzer darauf zugreift.</span><span class="sxs-lookup"><span data-stu-id="81156-198">This option relies on the pre-creation of the OD4B sites before users will access them.</span></span> <span data-ttu-id="81156-199">Dies kann mithilfe von [relativ neue API](https://github.com/SharePoint/PnP/tree/master/Samples/Provisioning.OneDriveProvisioning) die uns abwesend zum Erstellen von Websites für bestimmte Benutzer OD4B in Batch-Verarbeitung bietet mit CSOM oder REST erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="81156-199">This can be achieved by using [relatively new API](https://github.com/SharePoint/PnP/tree/master/Samples/Provisioning.OneDriveProvisioning) which provides us away to create OD4B sites for specific users in batch process, using either CSOM or REST.</span></span> <span data-ttu-id="81156-200">Erforderliche Code initiiert werden kann mithilfe eines PowerShell-Skripts oder vom tatsächlichen Code die remote-APIs aufrufen, ist.</span><span class="sxs-lookup"><span data-stu-id="81156-200">Needed code can be initiated using a PowerShell script or by writing actual code which is calling the remote APIs.</span></span>

![Ein Administrator verwendet, vor dem Erstellen und anpassen, um eine OD4B-Website zu erstellen.](media/Recipes/OD4BCustomization/pre-create-and-apply.png)

1. <span data-ttu-id="81156-202">Administrator wird mithilfe die remote-Erstellung APIs OD4B Websites für Benutzer erstellen und die erforderlichen Anpassungen ist auf den Websites OD4B im Rahmen des Prozesses zum Skript anwenden.</span><span class="sxs-lookup"><span data-stu-id="81156-202">Administrator is using the remote creation APIs to create OD4B sites for users and is applying the needed customizations to the OD4B sites as part of the script process.</span></span>
2. <span data-ttu-id="81156-203">Tatsächliche OD4B Websites sind auf der Office 365 für bestimmte Benutzer erstellt und deren Benutzerprofilen verknüpft</span><span class="sxs-lookup"><span data-stu-id="81156-203">Actual OD4B sites are created to the Office 365 for specific users and associated to their user profiles</span></span>

<span data-ttu-id="81156-204">In gewisser Dies ist auch wirklich zuverlässigen Prozess, jedoch müssen Sie neue Personen und Updates "manuell", verwalten die kann mehr Arbeit, klicken Sie dann mithilfe der Methode *Ausgeblendete app-Webpart* bedeuten.</span><span class="sxs-lookup"><span data-stu-id="81156-204">In some sense this is also really reliable process, but you would have to manage new persons and updates “manually”, which could mean more work then using the *hidden app part* approach.</span></span> <span data-ttu-id="81156-205">Dies ist definitiv Ansatz ergriffen und insbesondere dann hilfreich sein kann, wenn Sie migrieren in eine andere Datei Freigabe Lösung für die OD4B und vermeiden Sie die Notwendigkeit der Endbenutzer Zugriff auf die OD4B Site einmal, vor dem Starten der aktuelle Werte Website erstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="81156-205">This is definitely valid approach which can be taken and especially useful if you are migrating from some other file sharing solution to the OD4B and want to avoid the need of end users to access the OD4B site once, before actuals site creation is started.</span></span>

<a name="remote-timer-job-based-on-user-profile-updates"></a><span data-ttu-id="81156-206">Remote Zeitgeberauftrag basierend auf Profil benutzeraktualisierungen</span><span class="sxs-lookup"><span data-stu-id="81156-206">Remote timer job based on user profile updates</span></span>
----------------------------------------------

<span data-ttu-id="81156-207">Dieser Ansatz bedeutet Durchsuchen von Benutzerprofilen für die Überprüfung, auf denen die OD4B-Website erstellt wurde, und dann die Änderungen auf die Websites anwenden, je nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="81156-207">This approach means scanning through user profiles for checking to whom the OD4B site has been created and then apply the changes to the sites as needed.</span></span> <span data-ttu-id="81156-208">Dies bedeutet, dass geplanter Auftrag ausgeführt außerhalb von SharePoint, in dem regelmäßig den Status überprüfen und führen Sie die Anpassungen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="81156-208">This would mean scheduled job running outside of the SharePoint, which will periodically check the status and perform needed customizations.</span></span> <span data-ttu-id="81156-209">Geplanter Auftrag konnte als eine WebJob in Azure ausgeführt wird oder so einfach wie das PowerShell-Skript in Ihre eigene Windows-Taskplaner geplant werden.</span><span class="sxs-lookup"><span data-stu-id="81156-209">Scheduled job could be running as a WebJob in Azure or as simple as PowerShell script scheduled in your own windows scheduler.</span></span> <span data-ttu-id="81156-210">Natürlich hat die Skala der Bereitstellung außerordentlich Einfluss auf der ausgewählten Option planen.</span><span class="sxs-lookup"><span data-stu-id="81156-210">Obviously the scale of the deployment has huge impact on the chosen scheduling option.</span></span>

![Ein Remote-Zeitgeberauftrag verwendet wird, durchlaufen Websitesammlungen, zum Anpassen von jedem Standort.](media/Recipes/OD4BCustomization/remote-timer-job.png)

1. <span data-ttu-id="81156-212">Geplante Aufgabe wird die zugreift Benutzerprofile der Benutzer für die Überprüfung, die OD4B-Website bereitgestellt wurde initiiert</span><span class="sxs-lookup"><span data-stu-id="81156-212">Scheduled task is initiated which will access user profiles of the users for checking who has OD4B site provisioned</span></span>
2. <span data-ttu-id="81156-213">Tatsächliche Websites sind benutzerdefinierte-nacheinander basierend auf den geschäftlichen Anforderungen</span><span class="sxs-lookup"><span data-stu-id="81156-213">Actual sites are customized one-by-one based on the business requirements</span></span>

<span data-ttu-id="81156-214">Eines der wichtigsten Nachteile der diese Option ist, dass es kann deutlich eine Situationen, in dem Benutzer die OD4B Websites zugreifen können, bevor die Anpassungen installiert worden sind.</span><span class="sxs-lookup"><span data-stu-id="81156-214">One of the key downsides of this option is that there can clearly be a situations where user can access the OD4B sites before the customizations have been applied.</span></span> <span data-ttu-id="81156-215">Diese Option ist gleichzeitig interessante Add-on für andere Optionen, um sicherzustellen, dass Endbenutzer beliebige der erforderlichen Einstellungen auf den Websites nicht geändert haben oder zu überprüfen, ob die Websiteinhalte OD4B mit den Unternehmensrichtlinien abschließt.</span><span class="sxs-lookup"><span data-stu-id="81156-215">At the same time this option is interesting add-on for other options to ensure that end users have not changed any of the required settings on the sites or to check that the OD4B site content aligns with the company policies.</span></span>

<a name="enhanced-app-part-based-customization"></a><span data-ttu-id="81156-216">Erweiterte app-Webpart-basierte Anpassung</span><span class="sxs-lookup"><span data-stu-id="81156-216">Enhanced app part based customization</span></span>
-------------------------------------

<span data-ttu-id="81156-217">Hier wurde detaillierte Beschreibung der erweiterten app Teil basierend Anpassungen, die scheint der typische Ansatz zum Anwenden und Verwalten von Anpassungen für die Websites OD4B benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="81156-217">Here's more detailed description of enhanced app part based customizations, which seems to be the typical approach for applying and managing needed customizations to the OD4B sites.</span></span> <span data-ttu-id="81156-218">Quellcode und Weitere Informationen zu dieser Lösung wird von [Office 365 Developer Mustern und Methoden Anleitungen](http://aka.ms/officedevpnp)zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="81156-218">Source code and additional details on this solution is available from the [Office 365 Developer Patterns and Practices guidance](http://aka.ms/officedevpnp).</span></span>

<span data-ttu-id="81156-219">Tatsächlicher logischer Entwurf entspricht den ausgeblendeten app Teil Ansatz, in [diesem Blogbeitrag](http://blogs.msdn.com/b/vesku/archive/2013/11/25/office365-apply-automatically-custom-branding-to-personal-site-skydrive-pro.aspx)erwähnt.</span><span class="sxs-lookup"><span data-stu-id="81156-219">Actual logical design follows the hidden app part approach, mentioned before in [this blog post](http://blogs.msdn.com/b/vesku/archive/2013/11/25/office365-apply-automatically-custom-branding-to-personal-site-skydrive-pro.aspx).</span></span> <span data-ttu-id="81156-220">Dies bedeutet, dass wird davon ausgegangen, dass Sie haben Intranet in der Office 365-Umgebung, in dem Sie das erforderlichen app-Webpart einfügen können, zentral und die Endbenutzer auf dieser Seite Willkommen Zielseite werden wird, wenn sie von ihrem Browser öffnen.</span><span class="sxs-lookup"><span data-stu-id="81156-220">This means that the assumption is that you have centralized Intranet in the office 365 environment where you can put the needed app part and that the end users will be landing to this welcome page when they open up their browser.</span></span> <span data-ttu-id="81156-221">Es ist üblich, dass jedes Unternehmen Browser dieselbe Homepage mithilfe von Gruppenrichtlinien, so festgelegt hat, dass Endbenutzer immer von einem zentralen Standort gestartet wird, wenn sie von ihrem Browser öffnen.</span><span class="sxs-lookup"><span data-stu-id="81156-221">It is common that each company browser will have same home page set using group policies, so that end users will always start from one centralized location when they open up their browser.</span></span> <span data-ttu-id="81156-222">Dies ist der Speicherort, wo Sie app-Webparts platziert würde die festgelegt werden kann, um als 0 Pixelbreite und Höhe vergrößert oder verkleinert werden.</span><span class="sxs-lookup"><span data-stu-id="81156-222">This is the location where you’d put app part, which can be set to be sized as 0 pixel width and height.</span></span> <span data-ttu-id="81156-223">Hier ist, dass Sie den Endbenutzer-Kontext verwenden, um das app-Webpart, führen Sie, das Seite vom Anbieter gehosteten-add-in enthält.</span><span class="sxs-lookup"><span data-stu-id="81156-223">Key point here is that you use the end user context to execute the app part, which contains page from the provider hosted add-in.</span></span>

<span data-ttu-id="81156-224">**Leistungsaspekte Optimierung und Wartung**</span><span class="sxs-lookup"><span data-stu-id="81156-224">**Performance optimization and maintenance considerations**</span></span>

<span data-ttu-id="81156-225">Da diese app-Webpart ausgeführt wird jedes Mal Benutzer Front-Seite des Intranets kommt, müssen wir berücksichtigen der Leistung durch this oder wie Sie den Code effizient arbeiten, und führen Sie nur die wichtigsten Punkte der Code Ausführungen, wenn Sie tatsächlich benötigt.</span><span class="sxs-lookup"><span data-stu-id="81156-225">Since this app part will be executed each time user lands to front page of the intranet, we need to consider the performance impact of this or how to make the code to work efficiently and only perform key parts of the code executions when truly needed.</span></span> <span data-ttu-id="81156-226">Zweite Optimierung Überlegung ist auch, in dem wir tatsächliche Objekte, die verwendet werden, in den einzelnen Websites platzieren.</span><span class="sxs-lookup"><span data-stu-id="81156-226">Second optimization consideration is also where do we place actual assets which are used in each of the sites.</span></span> <span data-ttu-id="81156-227">Dies sind ziemlich typische Herausforderungen zur Lösung mit Anpassungen.</span><span class="sxs-lookup"><span data-stu-id="81156-227">These are pretty typical challenges to tackle with any customizations.</span></span> <span data-ttu-id="81156-228">Es folgt kleine Gruppe von Aspekte, die in der app-Modell Implementierungen konzentrieren.</span><span class="sxs-lookup"><span data-stu-id="81156-228">Here’s short list of things to concentrate in app model implementations.</span></span>

- <span data-ttu-id="81156-229">Speicherort der Anlagen – zentralisierte Content Delivery Network (CDN)-Lösung in jeder Websitesammlung oder in Stammwebsitesammlung?</span><span class="sxs-lookup"><span data-stu-id="81156-229">Location of the assets – centralized content delivery network (CDN) solution, in each site collection or in root site collection?</span></span>
- <span data-ttu-id="81156-230">Aktualisieren Sie die Anzahl der Objekte oder wie Sie sicherstellen, dass unabhängig davon clientseitige Browser Zwischenspeichern wir sicherstellen können, dass wir führen Sie die aktuelle Versionen von Skripts (JavaScript) oder die aktuellen Versionen der Bilder anzeigen?</span><span class="sxs-lookup"><span data-stu-id="81156-230">Refresh rate of the assets or how to ensure that regardless of client side browser caching we can ensure that we execute latest versions of the scripts (JavaScript) or show the latest versions of the images?</span></span>
- <span data-ttu-id="81156-231">Eingeschränkter Ausführung des Codes zu vermeiden Sie unnötige Belastung für Azure und Office 365-Dienst</span><span class="sxs-lookup"><span data-stu-id="81156-231">Reduced execution of code to avoid unnecessary load to Azure and Office 365 service</span></span>
- <span data-ttu-id="81156-232">Version Anpassungen, die auf OD4B Website angewendet werden</span><span class="sxs-lookup"><span data-stu-id="81156-232">Version customizations which are applied to OD4B site</span></span>

<span data-ttu-id="81156-233">**Speicherort der Anlagen**</span><span class="sxs-lookup"><span data-stu-id="81156-233">**Location of the assets**</span></span>

<span data-ttu-id="81156-234">Es gibt einige andere Lösungen für diese.</span><span class="sxs-lookup"><span data-stu-id="81156-234">There are few different solutions for this.</span></span> <span data-ttu-id="81156-235">Im Code Verweis Beispiel verwenden wir JavaScript in den einzelnen die OD4B Einbetten von Websites zum Bereitstellen des Unternehmens Richtlinie Nachricht und entfernen Sie die Möglichkeit zum Erstellen von Sub Websites werden sollen (oder blenden Sie die Verknüpfung).</span><span class="sxs-lookup"><span data-stu-id="81156-235">In the reference code example we use JavaScript embedding in each of the OD4B sites to provide company policy message and to remove the possibility to create sub sites (or hide the link).</span></span> <span data-ttu-id="81156-236">In dieser bestimmten Lösung werden wir die erforderliche JavaScript-Datei hochladen, Stammwebsitesammlung der OneDrive for Business-Adressschema und wir diese Datei direkt aus dieser Position in den einzelnen Standorten OD4B verweisen.</span><span class="sxs-lookup"><span data-stu-id="81156-236">In this particular solution we are uploading the needed JavaScript file to root site collection of the OneDrive for Business address scheme and we reference that file directly from that one location in the individual OD4B sites.</span></span> <span data-ttu-id="81156-237">Dies bedeutet, dass Sie nur zentral verwalten und Aktualisieren der JavaScript-Datei verfügen, wenn keine Änderungen erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="81156-237">This means that you only have one location to maintain and update the JavaScript file, if any changes are needed.</span></span>

<span data-ttu-id="81156-238">In dieser referenzimplementierung wir tatsächlich auch aktualisieren diese Datei jedes Mal die WebJob ausgeführt wird, das ist sicherlich nicht erforderlich, aber Beispielcode werden einfach ohne zusätzlichen Schritte Arbeitszeiten und mögliche vorgesehen war.</span><span class="sxs-lookup"><span data-stu-id="81156-238">In this reference implementation we actually also refresh this file each time the WebJob is executed, which is certainly not needed, but sample code was meant to be working as easily without any additional steps and possible.</span></span> <span data-ttu-id="81156-239">Ebenso konnten Sie die JavaScript-Datei manuell um root-Websitesammlung und verweisen, die dann von dort hochladen.</span><span class="sxs-lookup"><span data-stu-id="81156-239">Just as well you could upload the JavaScript file manually to root site collection and then reference that from there.</span></span> <span data-ttu-id="81156-240">Alternative Lösung wäre auch einige CND verwenden, um die benötigte Datei speichern oder JavaScript von der vom Anbieter gehosteten app-Seite darauf verweisen.</span><span class="sxs-lookup"><span data-stu-id="81156-240">Alternative solution would be also to use some CND to store the needed file or reference JavaScript from the provider hosted app side.</span></span> <span data-ttu-id="81156-241">Solange Sie nur eine Kopie der Datei haben, müssen Sie</span><span class="sxs-lookup"><span data-stu-id="81156-241">As long as you have only one copy of the file, you will have</span></span>

![Jede OneDrive for Business-Website ist eine eigene Websitesammlung unter der verwaltete Pfad der persönlichen und jede Url wird basierend auf dem Benutzerprofil erstellt.](media/Recipes/OD4BCustomization/asset-locations.png)

<span data-ttu-id="81156-244">**Client-seitigen caching Herausforderung und, die Lösung**</span><span class="sxs-lookup"><span data-stu-id="81156-244">**Client side caching challenge and how to solve that**</span></span>

<span data-ttu-id="81156-245">Zu den Aufgaben mit JavaScript-basiertes Implementierung ist Clientseite Zwischenspeichern.</span><span class="sxs-lookup"><span data-stu-id="81156-245">One of the challenges with JavaScript based implementation is client side caching.</span></span> <span data-ttu-id="81156-246">Wenn Browsern verwendete JavaScript-Dateien herunterladen, werden sie diese Dateien zur Reduzierung des heruntergeladenen Elemente für die folgenden Anforderungen zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="81156-246">When browsers will download used JavaScript files, they will cache those files to reduce the amount of downloaded assets for following requests.</span></span> <span data-ttu-id="81156-247">Dies ist hervorragend Hinblick auf die Leistung zu optimieren, aber bewirkt, dass eine Herausforderung Wenn wir die JavaScript-Datei aktualisieren müssen.</span><span class="sxs-lookup"><span data-stu-id="81156-247">This is great from performance optimization perspective, but causes a challenge when we need to update the JavaScript file.</span></span> <span data-ttu-id="81156-248">Im schlimmsten Fall kann zwischengespeicherten JavaScript-Datei Ausnahmen mit anderen Updates aktualisierte Versionen eingeführt.</span><span class="sxs-lookup"><span data-stu-id="81156-248">In worst case scenario, cached JavaScript file will cause exceptions with other updates introduced with updated versions.</span></span>

<span data-ttu-id="81156-249">Um dieses Problem zu entfernen, können wir die JavaScript-URL-Verweis Revisionsattribut mit starten.</span><span class="sxs-lookup"><span data-stu-id="81156-249">To remove this issue, we can start using revision attribute with JavaScript URL reference.</span></span> <span data-ttu-id="81156-250">Wenn wir benutzerdefinierten Aktion des Benutzers zu der Website OD4B zuordnen, schließen wir Sie die URL der JavaScript-eindeutige GUID in der URL haben.</span><span class="sxs-lookup"><span data-stu-id="81156-250">When we associate user custom action to the OD4B site, we include the URL of the JavaScript to have unique GUID in the URL.</span></span> <span data-ttu-id="81156-251">Hier ist Beispiel für die Referenz für die auf der Stammwebsite der Websitesammlung zeigen wird.</span><span class="sxs-lookup"><span data-stu-id="81156-251">Here’s example of the reference which will be pointing to the root site of the site collection.</span></span> <span data-ttu-id="81156-252">Beachten Sie die zusätzliche GUID, die nach dem Rev-Attribut in der URL hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="81156-252">Notice the additional GUID which has been added after the rev attribute in the URL.</span></span> <span data-ttu-id="81156-253">Jedes Mal, wenn die Anpassung ausgeführt wird, für bestimmte OD4B Site wird dieses Attribut Update sein.</span><span class="sxs-lookup"><span data-stu-id="81156-253">Each time the customizer will be executed for particular OD4B site, this attribute will be update.</span></span> <span data-ttu-id="81156-254">In der Praxis bedeutet dies, dass die JavaScript-Datei an Browser zwischengespeichert wird, bis es eine neue Version OD4B-Website, die die URL zu ändern ist, wird hinzugefügt und daher Browser wird die neue Version herunterladen und zwischenspeichern, die nach der nächsten Aktualisierung.</span><span class="sxs-lookup"><span data-stu-id="81156-254">In practice this means that JavaScript file is cached to browser until there is a new version added to OD4B site, which will change the URL and therefore browser will download the new version and will cache that after the next update.</span></span>

- <span data-ttu-id="81156-255">/OneDriveCustomization/OneDriveConfiguration.js?Rev=4bb89029e7ba470e893170d4cba7de00</span><span class="sxs-lookup"><span data-stu-id="81156-255">/OneDriveCustomization/OneDriveConfiguration.js?rev=4bb89029e7ba470e893170d4cba7de00</span></span>

<span data-ttu-id="81156-256">Es folgt der Code die zum Generieren der JavaScript-URL für die benutzerdefinierte Aktion des Benutzers verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="81156-256">Here’s the code which is used to generate the JavaScript URL for the user custom action.</span></span>
    
    /// <summary>
    /// Just to build the JS path which can be then pointed to the OneDrive site.
    /// </summary>
    /// <returns></returns>
    public string BuildJavaScriptUrl(string siteUrl)
    {
        // Solve root site collection URL
        Uri url = new Uri(siteUrl);
        string scenarioUrl = String.Format("{0}://{1}:{2}/{3}", 
                               url.Scheme, url.DnsSafeHost, 
                               url.Port, JSLocationFolderName);
       // Unique rev generated each time JS is added, so that we force browsers to 
       // refresh JS file wiht latest version
       string revision = Guid.NewGuid().ToString().Replace("-", "");
       return string.Format("{0}/{1}?rev={2}", scenarioUrl, JSFileName, revision);
    }

<span data-ttu-id="81156-257">**Eingeschränkter Ausführung von code**</span><span class="sxs-lookup"><span data-stu-id="81156-257">**Reduced execution of code**</span></span>

<span data-ttu-id="81156-258">Da dieser Prozess basiert auf mit dem app-Webpart auf der ersten Seite des Intranets ausgeblendet, wird dies bedeutet, dass der Code ausgeführt wird jedes Mal Benutzer ihre aktualisieren oder wechseln sie zur Seite.</span><span class="sxs-lookup"><span data-stu-id="81156-258">Since this process is based on having hidden app part on the front page of the Intranet, it will mean that the code will be executed each time user will refresh their browser or they move to the page.</span></span> <span data-ttu-id="81156-259">Da diese Front-Seite als Standard-Browser-Startseite für die Benutzer häufig festgelegt ist, würde Code jedes Mal ausgeführt werden, wenn eine Browser-Sitzung gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="81156-259">Since this front page is often set as the default browser home page for the corporate users, code would be executed each time a browser session is started.</span></span>

<span data-ttu-id="81156-260">Da wir jedoch nicht aktualisieren aktualisiert die Anpassungen, die an die OD4B Websites angewendet werden, dass häufig, es ist wirklich zu keiner Zeit wird die gesamte Anpassung muss im ersten.</span><span class="sxs-lookup"><span data-stu-id="81156-260">Since we do not however update the customizations which are applied to the OD4B sites that often, there’s really no point starting the whole customization update process in first place.</span></span> <span data-ttu-id="81156-261">Auf diese Weise reduziert wir die Verwendung der Warteschlangen Speicher und die Ausführung der Web-Auftrag, die direkt senken die Kosten auf der Seite vom Anbieter gehosteten app, da wir in unseren Design nicht als viel CPU und andere Ressourcen verwenden werden.</span><span class="sxs-lookup"><span data-stu-id="81156-261">By doing this, we reduce the usage of the storage queues and the web job execution, which will directly reduce the costs associated on the provider hosted app side, since we will not use as much CPU and other resources in our design.</span></span>

<span data-ttu-id="81156-262">Um sicherzustellen, dass unsere Verarbeitung nicht bei jeder Anforderung erfolgt einfachsten klassische Browser Cookie Ansatz verwendet, in dem wir bestimmtes Clientbrowser mit bestimmten Lebensdauer-Cookie gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="81156-262">Easiest way to ensure that our processing is not performed in each request is to use classic browser cookie approach, where we will store specific cookie to client browser with specific life time.</span></span> <span data-ttu-id="81156-263">Mobilgeräts auf dieses Cookie vorhanden ist, können wir die Ausführung überspringen, bis das Cookie abgelaufen wurde und wann wir den tatsächlichen anpassungsstatus auf den Websites OD4B überprüfen.</span><span class="sxs-lookup"><span data-stu-id="81156-263">By checking this cookie existence, we can skip the execution, until the cookie has been expired and that’s when we re-check the actual customization status in the OD4B sites.</span></span>

<span data-ttu-id="81156-264">Hier ist, was wir in die Seite Load-Methode für das app-Webpart haben.</span><span class="sxs-lookup"><span data-stu-id="81156-264">Here’s what we have in the page load method for the app part.</span></span> <span data-ttu-id="81156-265">Dieser Methodenaufruf Vorhandensein des Cookies überprüft, und das Cookie vorhanden ist, können wir den Code für die tatsächliche wird übersprungen, bis Ausführung erneut benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="81156-265">This method call will check existence of the cookie and if the cookie does exist, we will skip the actual business code until execution is again needed.</span></span>

    // Check if we should skip this check. We do this only once per hour to avoid 
    // perf issues and there's really no point even hitting the user profile 
    // in every request.
    if (CookieCheckSkip())
        return;

<span data-ttu-id="81156-266">Tatsächliche Cookiestatus und Einstellung des Cookies wie folgt durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="81156-266">Actual cookie status and setting of the cookie is done as follows.</span></span>

    /// <summary>
    /// Checks if we need to execute the code customization code again. 
    /// Timer set to 60 minutes to avoid constant execution of the code for nothing.
    /// </summary>
    /// <returns></returns>
    private bool CookieCheckSkip()
    {
        // Get cookie from the current request.
        HttpCookie cookie = Request.Cookies.Get("OneDriveCustomizerCheck");
    
       // Check if cookie exists in the current request.
       if (cookie == null)
       {
           // Create cookie.
           cookie = new HttpCookie("OneDriveCustomizerCheck");
           // Set value of cookie to current date time.
           cookie.Value = DateTime.Now.ToString();
           // Set cookie to expire in 60 minutes.
           cookie.Expires = DateTime.Now.AddMinutes(60);
           // Insert the cookie in the current HttpResponse.
           Response.Cookies.Add(cookie);
           // Output debugging information
           WriteDebugInformationIfNeeded(
               string.Format(@"Cookie did not exist, adding new cookie with {0} 
                               as expiration. Execute code.",
                               cookie.Expires));
           // Since cookie did not existed, let's execute the code, 
           // so skip is false.
           return false;
       }
       else
       {
           // Output debugging information
           WriteDebugInformationIfNeeded(string.Format(@"Cookie did existed, 
                                       with {0} as expiration. Skipping code.", 
                                       cookie.Expires));
           //  Since cookie did existed, let's skip the code
           return true;
       }
    }

<span data-ttu-id="81156-267">Wenn Sie für den Code im app-Webpart-Seite näher haben, sehen Sie, die in jedem Aufruf, dass wir die Existences der OD4B-Website für die Endbenutzer aktivieren.</span><span class="sxs-lookup"><span data-stu-id="81156-267">If you have a closer look on the code in the app part page, you’ll see that in every call we do check the existences of the OD4B site for the end user.</span></span> <span data-ttu-id="81156-268">Da nur Dies kann durch Zugreifen auf Benutzerprofildienst, wird Code auf die Leistung auswirken.</span><span class="sxs-lookup"><span data-stu-id="81156-268">Since this can be only done by accessing user profile, code will have impact on the performance.</span></span> <span data-ttu-id="81156-269">Mithilfe das oben genannten Cookie Kontrollkästchen können wir die Endbenutzer auftreten besser machen, und wir vermeiden Drücken des Benutzerprofildiensts ständig ohne die tatsächlichen Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="81156-269">By using the above cookie check, we can make the end user experience better and we avoid hitting the user profile service constantly without actual requirements.</span></span> <span data-ttu-id="81156-270">Es ist außerdem ratsam, beachten Sie, dass wir diese Überprüfung Cookie als ersten Schritt in der *Page_Load* -Methode gesetzt haben, sodass wir alle Verarbeitung überspringen, falls erforderlich.</span><span class="sxs-lookup"><span data-stu-id="81156-270">It’s also good to notice that we have placed that cookie check as the first step in the *Page_Load* method, so that we skip all processing, if needed.</span></span> <span data-ttu-id="81156-271">Hier ist ein kurzer Ausschnitt aus der *Page_Load* -Methode aus der *Customizer.aspx* an den Prozess Code anzeigen.</span><span class="sxs-lookup"><span data-stu-id="81156-271">Here’s a short snippet from the *Page_Load* method from the *Customizer.aspx* to show the code process.</span></span> 

    protected void Page_Load(object sender, EventArgs e)
    {
        // Check if we should skip this check. We do this only once per hour to avoid 
        // perf issues and there's really no point even hitting the user profile 
        // in every request.
        if (CookieCheckSkip())
            return;
     
        var spContext = 
           SharePointContextProvider.Current.GetSharePointContext(Context);
       using (ClientContext clientContext = 
           spContext.CreateUserClientContextForSPHost())
       {
           // Get user profile
           ProfileLoader loader = ProfileLoader.GetProfileLoader(clientContext);
           UserProfile profile = loader.GetUserProfile();
           Microsoft.SharePoint.Client.Site personalSite = profile.PersonalSite;
    
           clientContext.Load(profile, prof => prof.AccountName);
           clientContext.Load(personalSite);
           clientContext.ExecuteQuery();
    
           // Let's check if the site already exists
           if (personalSite.ServerObjectIsNull.Value)
           {

<span data-ttu-id="81156-272">**Version Anpassungen, die auf OD4B Website angewendet werden**</span><span class="sxs-lookup"><span data-stu-id="81156-272">**Version customizations which are applied to OD4B site**</span></span>

<span data-ttu-id="81156-273">Zweite Ebene der Optimierung auf unsere Code Verarbeitung durch versionsverwaltung insbesondere die Anpassungen erfolgt die wir die OD4B Websites bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="81156-273">Second level of optimization on our code processing is done by versioning specifically the customizations which we deploy to the OD4B sites.</span></span> <span data-ttu-id="81156-274">Dies bedeutet, dass wir die Version der Anpassungen der OD4B Website-Eigenschaftensammlung zu speichern und Dateien und Elemente nur aktualisiert, falls erforderlich.</span><span class="sxs-lookup"><span data-stu-id="81156-274">What this means is that we store the version of the customizations to the OD4B site property bag and only update the files and assets if needed.</span></span> <span data-ttu-id="81156-275">Dies bedeutet, dass bei der Ausführung WebJob wir vergleichen die derzeit Anpassung Version in OD4B auf die Version, die wir kurz vor dem Bereitstellen und nur, wenn die Anpassung Version Odes nicht auf der Website OD4B vorhanden sind, wir die erforderlichen Anlagen hochladen und andere Einstellungen anwenden.</span><span class="sxs-lookup"><span data-stu-id="81156-275">This means that in the WebJob execution we compare the currently customization version in OD4B to the version which we are about to deploy and only if the customization version odes not exist in the OD4B site, we upload the needed assets and apply other settings.</span></span>

<span data-ttu-id="81156-276">Dieser Ansatz auch reduziert die benötigten Ressourcen aus Microsoft Azure, da es vermeiden, aktualisieren oder tatsächlichen Anpassungscode ausgeführt, wenn er nicht benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="81156-276">This approach will also significantly reduce the needed resources from Microsoft Azure, since we avoid refreshing or executing actual customization code when it’s not needed.</span></span> <span data-ttu-id="81156-277">Dies bedeutet Verringerung der auf die CPU und andere Ressource: Einsatz in der Microsoft Azure und weniger Anfragen zu Office 365.</span><span class="sxs-lookup"><span data-stu-id="81156-277">This means reduction on the CPU and other resource usage in the Microsoft Azure and less requests towards Office 365.</span></span>

<span data-ttu-id="81156-278">Gesamte Logik für die Anpassung wird gespeichert, in diesem Beispiel befindet sich im *ApplySiteConfiguration* -Methode am *OD4B.Configuration.Async.Common.SiteModificationManager* -Klasse.</span><span class="sxs-lookup"><span data-stu-id="81156-278">All customization logic is stored in this sample is located in *ApplySiteConfiguration* method at *OD4B.Configuration.Async.Common.SiteModificationManager* class.</span></span> <span data-ttu-id="81156-279">Diese Methode wird auch von der WebJob mit den richtigen Parametern zum Starten des Anpassungsprozesses aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="81156-279">This method is also called by the WebJob with right parameters to start the customization process.</span></span> <span data-ttu-id="81156-280">Bevor wir tatsächlich alle Vorgänge ausführen, wird überprüft, dass Eigenschaftensammlung Eigenschaftswert mit einem Schlüssel von 'Contoso_OneDriveVersion' und die Ausführung bei aktuelle Version auf der Website niedriger als die Version die wir planen ist, gelten nur fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="81156-280">Before we actually perform any operations, we are checking property bag value with a key of ‘Contoso_OneDriveVersion’ and execution will only continue if current version in the site is lower than the version which we are planning to apply.</span></span>  <span data-ttu-id="81156-281">Es folgt der tatsächliche Code, der [Plug & Play-Kernkomponenten von Office](https://github.com/SharePoint/PnP-Sites-Core/tree/master/Core) verwendet, um den Code zu vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="81156-281">Here’s the actual code which is using [Office PnP Core component](https://github.com/SharePoint/PnP-Sites-Core/tree/master/Core) to simplify the code.</span></span>

    // Check current site configuration status - is it already in right version?
    if (ctx.Web.GetPropertyBagValueInt(
        SiteModificationManager.OneDriveMarkerBagID, 0) 
        < SiteModificationManager.BrandingVersion)
    {

<span data-ttu-id="81156-282">Bei der Anpassung der Website angewendet wird, werden wir die angewendete Anpassung Version der Eigenschaftensammlung für die folgenden Ausführung festgelegt.</span><span class="sxs-lookup"><span data-stu-id="81156-282">When customization is applied to the site, we will set the applied customization version to the property bag for following execution.</span></span>

    // Save current branding applied indicator to site
    ctx.Web.SetPropertyBagValue(SiteModificationManager.OneDriveMarkerBagID, SiteModificationManager.BrandingVersion);

<span data-ttu-id="81156-283">Dies ist relativ einfach, aber reduziert die erforderlichen Ressourcen von Azure und reduziert auch Unnecesasrey remote Vorgänge zu Office 365, die positiv auf die Leistung auswirken.</span><span class="sxs-lookup"><span data-stu-id="81156-283">This is relatively simple process, but will significantly reduce the required resources from Azure and will also reduce unnecesasrey remote operations towards Office 365, which will have positive performance impact.</span></span>

<a name="needed-configuration-in-azure"></a><span data-ttu-id="81156-284">Erforderliche Konfiguration in Azure</span><span class="sxs-lookup"><span data-stu-id="81156-284">Needed configuration in Azure</span></span>
-----------------------------

<span data-ttu-id="81156-285">Wichtige Voraussetzung für dieses Beispiel einwandfrei funktioniert besteht darin, dass Sie Azure Speicherdienst Daten erstellt haben und Verbindungszeichenfolgen Speicher wurden aktualisiert entsprechend für die Projekte, die verwenden werden.</span><span class="sxs-lookup"><span data-stu-id="81156-285">Key requirement for this sample to work properly is that you have created Azure Storage Data Service and you have updated storage connection strings accordingly for the projects, which are using them.</span></span> <span data-ttu-id="81156-286">Sie können einfach als Speicherdienst aus dem Azure-Verwaltungsportal (manage.windowssazure.com), erstellen, indem Sie auswählen **neu hat Data Services hat Speicher hat Schnelles Erstellen**.</span><span class="sxs-lookup"><span data-stu-id="81156-286">You can simply create as storage service from the Azure administration portal (manage.windowssazure.com), by selecting **New –> Data Services –> Storage –> Quick Create**.</span></span> <span data-ttu-id="81156-287">Danach müssen Sie werden nur Name, Position und einige andere Einstellungen zu definieren, und Sie werden an.</span><span class="sxs-lookup"><span data-stu-id="81156-287">After this you will just need to define name, location and few other settings and you are good to go.</span></span>

![Die Einstellungen für schnelles erstellen: das URL-Feld auf Myveryownstorage festgelegt ist, Gruppe Standort-Affinität auf West US festgelegt ist, Abonnement auf MSDN Ultimate festgelegt ist und Replikation auf Georedundantes festgelegt ist.](media/Recipes/OD4BCustomization/azure-config-1.png)

<span data-ttu-id="81156-289">Wenn Speicher erstellt wurde, müssen Sie wechseln und kopieren Sie den Schlüssel für die Verbindungszeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="81156-289">When storage has been created, you need to go and copy the key which is needed for the connection string.</span></span> <span data-ttu-id="81156-290">Wenn Sie auf der Detailseite Speicher verschieben, können Sie wichtige Informationen zugreifen, indem Sie auf "*Zugriffstasten verwalten*" vom unteren Rand der Seite.</span><span class="sxs-lookup"><span data-stu-id="81156-290">When you move to the storage detail page, you can access key information by clicking “*Manage Access Keys*”  from the bottom of the page.</span></span>

![Den Link zur Zugriffstasten verwalten wird am unteren Rand der Seite hervorgehoben.](media/Recipes/OD4BCustomization/azure-config-2.png)

<span data-ttu-id="81156-292">Sie müssen so aktualisieren Sie App.config-Datei für die folgenden Projekte in Visual Studio-Projektmappe.</span><span class="sxs-lookup"><span data-stu-id="81156-292">You will need to update App.config file for following projects in the Visual Studio solution.</span></span> <span data-ttu-id="81156-293">Jedes der Projekte werden detaillierte weiter unten in diesem Blogbeitrag erläutert.</span><span class="sxs-lookup"><span data-stu-id="81156-293">Each of the projects are more detailed explained later in this blog post.</span></span>

<span data-ttu-id="81156-294">OD4B. Configuration.Async.WebJob OD4B. Configuration.Async.Console.SendMessage WebJob Projekt zwei Schlüssel, die aktualisiert werden können, so zeigen Sie auf die gleiche Verbindung und SendMessage hat nur einen Schlüssel aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="81156-294">OD4B.Configuration.Async.WebJob OD4B.Configuration.Async.Console.SendMessage WebJob project has two keys, which can be updated to point to the same connection and the SendMessage has only one key to update.</span></span>

![Die Datei ' App.config ' ist das AppSettings-Element in Visual Studio geöffnet.](media/Recipes/OD4BCustomization/app-config.png)

<a name="reference-solution-structure"></a><span data-ttu-id="81156-299">Verweis Lösungsstruktur</span><span class="sxs-lookup"><span data-stu-id="81156-299">Reference solution structure</span></span>
----------------------------

<span data-ttu-id="81156-300">In Visual Studio Lösung besteht aus den von ein paar Lösungen, aber jede von ihnen ziemlich angemessene Grund haben, vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="81156-300">This Visual Studio solution consists from quite a few solutions, but each of them have pretty reasonable reason to be there.</span></span> <span data-ttu-id="81156-301">Einführung in die drei Projekte in der Lösung und warum sie vorhanden sind oder was für sind ist hier.</span><span class="sxs-lookup"><span data-stu-id="81156-301">Here’s introduction to each of the projects in the solution and why they exists or what they are for.</span></span>

![Klicken Sie im Projektmappen-Explorer zeigt einen Ordner namens Dokumentation, gefolgt von sechs Projekte, die im folgenden ausführlich beschrieben werden.](media/Recipes/OD4BCustomization/solution-explorer.png)

<span data-ttu-id="81156-303">**OD4B.Configuration.Async**</span><span class="sxs-lookup"><span data-stu-id="81156-303">**OD4B.Configuration.Async**</span></span>

<span data-ttu-id="81156-304">Dies ist das Projekt aktuelle SharePoint-app, die lernen der vom Anbieter gehosteten app für SharePoint und fragt die benötigten Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="81156-304">This is the actual SharePoint app project, which will introduce the provider hosted app to SharePoint and will ask the needed permissions.</span></span> <span data-ttu-id="81156-305">Beachten Sie, dass, obwohl es nicht tatsächlich durchführen Mandanten, die von der app Vorgänge auf der Anwendungsebene es selbst, Teil sehr hohe Berechtigungen für das Add-in wird gefragt.</span><span class="sxs-lookup"><span data-stu-id="81156-305">Notice that even though we do not actually perform tenant level operations from the app part it self, we are asking pretty high permissions for the add-in.</span></span> <span data-ttu-id="81156-306">Dies ist, da wir den gleichen Client-ID und den Schlüssel aus dieser Datei app unsere WebJob Ausführung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="81156-306">This is because we will use the same  client ID and secret from this app file in our WebJob execution.</span></span> <span data-ttu-id="81156-307">Mit diesem Ansatz, Sie müssen nicht manuell registrieren von app-Id und geheimen zum SharePoint, wir lieber verwenden die gleichen-ID und geheimen Cross-Lösung.</span><span class="sxs-lookup"><span data-stu-id="81156-307">Using this approach, you do not have to manually register app id and secret to the SharePoint, we rather just use the same identifier and secret cross solution.</span></span>

![Die Liste der Berechtigungen: der Bereich Mandanten hat die Berechtigung Vollzugriff.](media/Recipes/OD4BCustomization/app-permissions.png)

<span data-ttu-id="81156-311">Dieses Projekt enthält auch die Definition der app-Webpart, klicken Sie dann mit der Hostwebsite bereitgestellt werden soll.</span><span class="sxs-lookup"><span data-stu-id="81156-311">This project also contains the app part definition which will be then deployed to the host web.</span></span>

<span data-ttu-id="81156-312">**OD4B.Configuration.Async.Common**</span><span class="sxs-lookup"><span data-stu-id="81156-312">**OD4B.Configuration.Async.Common**</span></span>

<span data-ttu-id="81156-313">Dieses Projekt enthält die tatsächlichen Geschäftslogik und freigegebenen Code schneidet Projekte, wie die Definition für das Datenobjekt die an die Speicherwarteschlange und die tatsächlichen Geschäftslogik zum Anpassen von Websites OD4B platziert wird.</span><span class="sxs-lookup"><span data-stu-id="81156-313">This project contains all the actual business logic and shared code cross projects, like the definition for the data object which is placed to the storage queue and the actual business logic to customize OD4B sites.</span></span> <span data-ttu-id="81156-314">Hier Code versehen ist einfach bei Angabe einfacher entwickeln und testen die Vorgänge aus, wenn das Projekt erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="81156-314">Reason to place code in here is simply for giving us easier way to develop and test the operations when the project is created.</span></span> <span data-ttu-id="81156-315">Wie mit allgemeine Entwicklung, setzen Sie kein wirklich Ihr Code für die Geschäftslogik direkt an die WebJob oder app-Part sollten, vielmehr zu suchen, die in Geschäftslogik Layer zum leichteren testen und Code wiederverwenden.</span><span class="sxs-lookup"><span data-stu-id="81156-315">Like with general development, you should not really place your business logic code directly to the WebJob or to app part, rather to locate that in business logic layer for easier testing and code reuse.</span></span>

<span data-ttu-id="81156-316">Die tatsächlichen Operationen in Richtung der OD4B Websites befinden sich in *OD4B.Configuration.Async.Common.SiteModificationManager* -Klasse.</span><span class="sxs-lookup"><span data-stu-id="81156-316">All the actual operations towards the OD4B sites are located in *OD4B.Configuration.Async.Common.SiteModificationManager* class.</span></span>

<span data-ttu-id="81156-317">**OD4B. Configuration.Async.Console.Reset**</span><span class="sxs-lookup"><span data-stu-id="81156-317">**OD4B.Configuration.Async.Console.Reset**</span></span>

<span data-ttu-id="81156-318">Dieses Projekt ist unsere Test und debugging Projekt für die tatsächlichen Anpassungen.</span><span class="sxs-lookup"><span data-stu-id="81156-318">This project is our test and debugging project for the actual customizations.</span></span> <span data-ttu-id="81156-319">Hiermit können Sie die gewünschten Anpassungen manuell zu einer beliebigen OD4B Website anwenden.</span><span class="sxs-lookup"><span data-stu-id="81156-319">It can be used to manually apply the wanted customizations to any OD4B site.</span></span> <span data-ttu-id="81156-320">Dieses Projekt wurde während der Entwicklungszeit unsere Tests Project den Anpassungsprozess testen, bevor sie mit der WebJob verknüpft wurde.</span><span class="sxs-lookup"><span data-stu-id="81156-320">During development time this project was our testing project to test the customization process before it was hooked to the WebJob.</span></span> <span data-ttu-id="81156-321">Projekt kann auch zurücksetzen Anpassungen aus einer beliebigen Website OD4B für Demo oder zu Testzwecken verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="81156-321">Project can be also used to reset customizations from any OD4B site for demonstration or testing purposes.</span></span> <span data-ttu-id="81156-322">Da tatsächlichen Geschäftslogik in das Projekt common befindet, wird dieses Projekt mithilfe der gleiche *SiteModificationManager* Klasse wie die anderen anwenden oder Zurücksetzen von Anpassungen von den Websites.</span><span class="sxs-lookup"><span data-stu-id="81156-322">Since actual business logic is located in the common project, this project will use the same *SiteModificationManager* class as the others to apply or reset customizations from the sites.</span></span>

<span data-ttu-id="81156-323">Wenn Sie die Anpassungen testen, können Sie den Code in der Main-Methode zwischen übernehmen und zurücksetzen, um die gewünschte Operation geändert einfach ändern.</span><span class="sxs-lookup"><span data-stu-id="81156-323">When you test the customizations, you can simply change the code in the Main method between Apply and Reset to change the wanted operation.</span></span>

    static void Main(string[] args)
    {
     
        Uri url = 
            new Uri("https://vesaj-my.sharepoint.com/personal/vesaj_veskuonline_com");
     
            //get the new site collection
        string realm = TokenHelper.GetRealmFromTargetUrl(url);
        var token = TokenHelper.GetAppOnlyAccessToken(
                       TokenHelper.SharePointPrincipal, 
                       url.Authority, realm).AccessToken;
       using (var ctx = 
           TokenHelper.GetClientContextWithAccessToken(url.ToString(), 
           token))
       {
           // Uncomment the one you need for testing/reset
           // Apply(ctx, url);
           Reset(ctx);
       }
    }

<span data-ttu-id="81156-324">Beachten Sie, die Sie benötigen, um sicherzustellen, dass die app-Id und geheimen Schlüssel für dieses Projekt in app.config derjenigen, die entsprechende sind eingegebene benötigt Berechtigungen Ihrem Mandanten.</span><span class="sxs-lookup"><span data-stu-id="81156-324">Notice that you will need to ensure that app id and secret for this project in the app.config are matching the ones you gave needed permissions to your tenant.</span></span> <span data-ttu-id="81156-325">Können Sie das Projekt auf einfache Weise ausführen, indem Sie rechts auf das Projekt, und auswählen **Debug – neue Instanz starten**, damit Sie den tatsächlichen Code durchlaufen können also zeilenweise ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="81156-325">You can easily execute the project by right clicking the project and choosing **Debug – Start New Instance**, so that you can walk the actual code which is executed line by line.</span></span>

<span data-ttu-id="81156-326">**OD4B. Configuration.Async.Console.SendMessage**</span><span class="sxs-lookup"><span data-stu-id="81156-326">**OD4B.Configuration.Async.Console.SendMessage**</span></span>

<span data-ttu-id="81156-327">Dieses Projekt wurde hinzugefügt, um die Lösung für die Speicherung Warteschlangenmechanismus testen, bevor es auf das app-Webpart verknüpft wurde.</span><span class="sxs-lookup"><span data-stu-id="81156-327">This project was added to the solution to test the storage queue mechanism before it was hooked to the app part.</span></span> <span data-ttu-id="81156-328">Projekt kann durch übergeben den app-Teil-Prozess für das Hinzufügen von neuer Nachrichten an die Speicherwarteschlange verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="81156-328">Project can be used to by pass the app part process for adding new messages to the storage queue.</span></span> <span data-ttu-id="81156-329">Beachten Sie, dass Sie die Verbindungszeichenfolge für die Speicherung Warteschlange entsprechend aktualisieren müssen in app.config, stellen Sie das Projekt ordnungsgemäß funktioniert.</span><span class="sxs-lookup"><span data-stu-id="81156-329">Notice that you will need to update the storage queue connection string accordingly in the app.config to make the project work properly.</span></span>

<span data-ttu-id="81156-330">Können Sie das Projekt auf einfache Weise ausführen, indem Sie rechts auf das Projekt, und auswählen Debug – neue Instanz starten, damit Sie den tatsächlichen Code durchlaufen können also zeilenweise ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="81156-330">You can easily execute the project by right clicking the project and choosing Debug – Start New Instance, so that you can walk the actual code which is executed line by line.</span></span>

<span data-ttu-id="81156-331">**OD4B. Configuration.Async.WebJob**</span><span class="sxs-lookup"><span data-stu-id="81156-331">**OD4B.Configuration.Async.WebJob**</span></span>

<span data-ttu-id="81156-332">Dies ist das tatsächliche WebJob-Projekt, die mit WebJob-Projektvorlage in Visual Studio 2013 Update 4 eingeführt erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="81156-332">This is the actual WebJob project, which was created using WebJob project template, introduced in the Visual Studio 2013 Update 4.</span></span> <span data-ttu-id="81156-333">Diese Vorlage vereinfacht die WebJob Projekte zu erstellen, indem Sie rechts Verweise vorhanden und bietet auch noch etwas Bereitstellung Automatisierung mit Rechte Unterstützung für das Projekt.</span><span class="sxs-lookup"><span data-stu-id="81156-333">This template makes it easier to create WebJob projects by adding right references in place and it also provides nice deployment automation with right click support for the project.</span></span> <span data-ttu-id="81156-334">Sie können einfach ursprüngliche Version oder eine neue Version des Projekts in der Azure bereitstellen, indem Sie rechts auf und veröffentlichen als Azure Webauftrag auswählen...</span><span class="sxs-lookup"><span data-stu-id="81156-334">You can simply deploy initial version or new version of the project to the Azure by right clicking and selecting Publish as Azure Web Job…</span></span> <span data-ttu-id="81156-335">die oben im Veröffentlichen-Assistent geöffnet wird.</span><span class="sxs-lookup"><span data-stu-id="81156-335">which will open up the publishing wizard.</span></span>

![Das Dialogfeld "Web veröffentlichen" wird angezeigt, und zeigt die Registerkarte Verbindung. Im Feld Server den Wert Vesaj-od4bconf.scm.azurewebsites.net:443 enthält, das Namensfeld Website enthält den Wert Vesaj-0d4bconf, im Feld Benutzername geschwärzten ist, wird das Feld Kennwort maskiert, das Kontrollkästchen Kennwort speichern aktiviert ist, und die Ziel-URL Feld enthält den Wert http://vesaj-od4bconf.azurewebsites.net.](media/Recipes/OD4BCustomization/publish-to-azure.png)

<span data-ttu-id="81156-337">Dieser WebJob wird als einer continuous WebJob, erstellt für die Verarbeitung der Warteschlange basiert.</span><span class="sxs-lookup"><span data-stu-id="81156-337">This WebJob is created as a continuous WebJob, which is needed for the queue based processing.</span></span> <span data-ttu-id="81156-338">Dies bedeutet, dass in der Main-Methode, wir nur den Prozess ausgeführt werden wie folgt kontinuierliche festgelegt.</span><span class="sxs-lookup"><span data-stu-id="81156-338">This means that in the Main method, we only set the process to be executing continuous like follows.</span></span>

    class Program
    {
        // Please set the following connection strings in app.config for this 
        // WebJob to run: AzureWebJobsDashboard and AzureWebJobsStorage
        static void Main()
        {
            var host = new JobHost();
            // The following code ensures that the WebJob will be 
            // running continuously
           host.RunAndBlock();
       }
    }

<span data-ttu-id="81156-339">Tatsächliche warteschlangenverarbeitung ist wirklich einfach mit WebJobs.</span><span class="sxs-lookup"><span data-stu-id="81156-339">Actual queue processing is really easy with WebJobs.</span></span> <span data-ttu-id="81156-340">Lediglich die müssen wir besteht darin, die richtigen Attribute für die Methode festzulegen und um sicherzustellen, dass die Verbindungszeichenfolgen von Azure-Speicher in der app-Konfiguration entsprechend aktualisiert werden und Vergleich der Speicherwarteschlange in Microsoft Azure erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="81156-340">Only thing we need to do is to set the right attributes for the method and to ensure that the Azure storage connection strings in the app config are updated accordingly and matching the storage queue’s you have created to Microsoft Azure.</span></span> <span data-ttu-id="81156-341">Es folgt die *ProcessQueueMessage* -Methode aus der functions.cs-Klasse.</span><span class="sxs-lookup"><span data-stu-id="81156-341">Following is the *ProcessQueueMessage* method from the functions.cs class.</span></span> <span data-ttu-id="81156-342">Beachten Sie, wie wir das App nur token Objektmodell verwenden, um Zugriff auf die SharePoint aus der WebJob.</span><span class="sxs-lookup"><span data-stu-id="81156-342">Notice how we use the App Only token model to access the SharePoint from the WebJob.</span></span> <span data-ttu-id="81156-343">Damit dies funktioniert, müssen Sie sicherstellen, dass Sie die richtigen app-Id und geheimen Clientschlüssel in app.config des Projekts kopiert haben.</span><span class="sxs-lookup"><span data-stu-id="81156-343">To make this work, you will need to ensure that you have copied the right app id and secret to the app.config of the project.</span></span> <span data-ttu-id="81156-344">Tatsächliche Geschäftslogik befindet sich die *SiteModificationManager* -Klasse, sodass wir gerade, die mit dem richtigen Client Kontext- und Parameter aufrufen.</span><span class="sxs-lookup"><span data-stu-id="81156-344">Actual business logic is located in the *SiteModificationManager* class, so we just call that with the right client context and parameters.</span></span>

    // This function will get triggered/executed when a new message is written 
    // on an Azure Queue called queue.
    public static void ProcessQueueMessage(
        [QueueTrigger(SiteModificationManager.StorageQueueName)] 
        SiteModificationData request, TextWriter log)
    {
        Uri url = new Uri(request.SiteUrl);
     
        //Connect to the OD4B site sing App Only access
       string realm = TokenHelper.GetRealmFromTargetUrl(url);
       var token = TokenHelper.GetAppOnlyAccessToken(
           TokenHelper.SharePointPrincipal, url.Authority, realm).AccessToken;
    
       using (var ctx = TokenHelper.GetClientContextWithAccessToken(
           url.ToString(), token))
       {
           // Set configuration object properly for setting the config
           SiteModificationConfig config = new SiteModificationConfig()
           {
               SiteUrl = url.ToString(),
               JSFile = Path.Combine(Environment.GetEnvironmentVariable
                   ("WEBROOT_PATH"), "Resources\\OneDriveConfiguration.js"),
               ThemeName = "Garage",
               ThemeColorFile = Path.Combine(Environment.GetEnvironmentVariable
                   ("WEBROOT_PATH"), "Resources\\Themes\\Garage\\garagewhite.spcolor"),
               ThemeBGFile = Path.Combine(Environment.GetEnvironmentVariable
                   ("WEBROOT_PATH"), "Resources\\Themes\\Garage\\garagebg.jpg"),
               ThemeFontFile = "" // Ignored in this case, but could be also obviously set
           };
    
           new SiteModificationManager().ApplySiteConfiguration(ctx, config);
       }
    }

<span data-ttu-id="81156-345">Andere wichtiger ist, dass Sie benötigen, um sicherzustellen, dass Sie die *Lokale Kopie* -Eigenschaft für die SharePoint-CSOM-Assembly Verweise-Eigenschaft für das Projekt festgelegt haben, damit alle abhängigen Assemblys in Azure ordnungsgemäß kopiert werden, wenn Sie den Webauftrag bereitstellen .</span><span class="sxs-lookup"><span data-stu-id="81156-345">Other thing worth noticing is that you will need to ensure that you have set the *Copy Local* property for the SharePoint CSOM assembly references property for the project, so that all dependent assemblies are properly copied to Azure when you deploy the web job.</span></span> <span data-ttu-id="81156-346">Hierbei handelt es sich einfach, da diese Assemblys standardmäßig nicht im normalen Azure-Website enthalten sind, also durch Festlegen dieser Eigenschaft *True*, Sie stellt sicher, dass Assemblys, auf die verwiesen wird, um auch cloud kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="81156-346">This is simply because these assemblies are not located in normal Azure web site by default, so by setting this property *True*, you will ensure that the referenced assemblies are copied to cloud as well.</span></span>

<span data-ttu-id="81156-347">**OD4B. Configuration.AsyncWeb**</span><span class="sxs-lookup"><span data-stu-id="81156-347">**OD4B.Configuration.AsyncWeb**</span></span>

<span data-ttu-id="81156-348">Dies ist die tatsächliche vom Anbieter gehosteten app, die in Microsoft Azure gehostet wird.</span><span class="sxs-lookup"><span data-stu-id="81156-348">This is the actual provider hosted app which is hosted in Microsoft Azure.</span></span> <span data-ttu-id="81156-349">Sie enthält die Seite laded mit dem app-Webpart, die auf der ersten Seite des Intranets platziert wird.</span><span class="sxs-lookup"><span data-stu-id="81156-349">It contains the page laded to the app part, which is placed on the front page of the intranet.</span></span> <span data-ttu-id="81156-350">Seite "default.aspx" dieser App nicht tatsächlich alle Vorgänge enthält, zeigt Details zum Verwenden der app bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="81156-350">Default.aspx page of this app does not actually contain any operations, it shows provides details on how to use the app.</span></span>

<span data-ttu-id="81156-351">*Beachten Sie die. Wenn Sie Probleme mit der WebJob wurde verweigert konfrontiert oder app im Allgemeinen nur zugreifen werden, stellen Sie sicher, dass Sie die app-Client-Id und geheimen Schlüssel in app.config entsprechend die Werten in der Datei web.config aus diesem Projekt aktualisiert haben. Visual Studio kann diese Werte in bestimmten Szenarien ändern.*</span><span class="sxs-lookup"><span data-stu-id="81156-351">*Notice. If you will face permission denied issues with the WebJob or app only access in general, make sure that you have updated app client id and secret in the app.config to match the values in the web.config from this project. Visual Studio can change these values in certain scenarios.*</span></span> 

<a name="queue-processing-in-webjob"></a><span data-ttu-id="81156-352">Verarbeitung in WebJob Warteschlange</span><span class="sxs-lookup"><span data-stu-id="81156-352">Queue processing in WebJob</span></span>
--------------------------

<span data-ttu-id="81156-353">Mithilfe der Warteschlangen Speicher ist wirklich einfach mit den APIs von Azure zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="81156-353">Using the storage queues is really straight forward with the APIs available from Azure.</span></span> <span data-ttu-id="81156-354">Einfachste Einstieg ist das "*Windows Azure Storage*" Nuget-Paket, mit das alle erforderlichen APIs und andere Pakete dem Projekt zuordnen möchten.</span><span class="sxs-lookup"><span data-stu-id="81156-354">Easiest way to get started is to use the '*Windows Azure Storage*' Nuget package, which will associate all needed APIs and other packages to your project.</span></span> <span data-ttu-id="81156-355">Nachdem Sie diese Nuget-Paket hinzugefügt haben, können Sie einfach starten, verwenden die Speicherwarteschlange APIs für die Verarbeitung.</span><span class="sxs-lookup"><span data-stu-id="81156-355">After you have added this Nuget package, you can simply start using the storage queue APIs for the processing.</span></span> <span data-ttu-id="81156-356">Es folgt Ausschnitt aus der *OD4B. Configuration.Async.Common* Project (AddConfigRequestToQueue-Methode in SiteModificationManager-Klasse), der Code zum Behandeln von tatsächlichen Warteschlange Nachricht enthält und zahlreiche Projekte (bereitgestellten einfacher Entwicklung Time-Debuggen) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="81156-356">Following is snippet from the *OD4B.Configuration.Async.Common* project (AddConfigRequestToQueue method in SiteModificationManager class), which contains actual queue message handling code and is used from numerous projects (provided easier development time debugging).</span></span>

    public void AddConfigRequestToQueue(
                string account, string siteUrl, string storageConnectionString)
    {
        CloudStorageAccount storageAccount = 
                            CloudStorageAccount.Parse(storageConnectionString);
     
        // Get queue... create if does not exist.
        CloudQueueClient queueClient = storageAccount.CreateCloudQueueClient();
        CloudQueue queue = 
           queueClient.GetQueueReference(SiteModificationManager.StorageQueueName);
       queue.CreateIfNotExists();
    
       // Pass in data for modification
       var newSiteConfigRequest = new SiteModificationData()
       {
           AccountId = account,
           SiteUrl = siteUrl
       };
    
       // Add entry to queue
       queue.AddMessage(
           new CloudQueueMessage(
               JsonConvert.SerializeObject(newSiteConfigRequest)));
    }

<span data-ttu-id="81156-357">Tatsächliche Warteschlange in diesem Fall Verarbeitung erfolgte, mit dem WebJob-Projekt.</span><span class="sxs-lookup"><span data-stu-id="81156-357">Actual queue processing in this case was done with the WebJob project.</span></span> <span data-ttu-id="81156-358">Im Fall von WebJob können wir einfach bestimmte Attribute verwenden, um die Warteschlange Handhabung automatisieren.</span><span class="sxs-lookup"><span data-stu-id="81156-358">In the case of WebJob, we can simply use specific attributes to automate the queue handling.</span></span> <span data-ttu-id="81156-359">Nur ist wir brauchen, um sicherzustellen, dass wir gleichen Speicher Zeichenfolge und Warteschlange Verbindungsnamen in senden und Empfangen von Webpart verwenden.</span><span class="sxs-lookup"><span data-stu-id="81156-359">Only thing we need to make sure is that we are using same storage connection string and queue name in both sending and receiving part.</span></span>

    // This function will get triggered/executed when a new message is written 
    // on an Azure Queue called queue.
    public static void ProcessQueueMessage(
        [QueueTrigger(SiteModificationManager.StorageQueueName)] 
        SiteModificationData request, TextWriter log)
    {
        Uri url = new Uri(request.SiteUrl);

<span data-ttu-id="81156-360">Es ist wirklich nicht einfacher, als dies abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="81156-360">It really does not get easier than this.</span></span> <span data-ttu-id="81156-361">Beachten Sie, dass wir *SiteModificationManager.StorageQueueName* auf beiden Seiten verwenden, um sicherzustellen, dass die Warteschlange Namensvergleich.</span><span class="sxs-lookup"><span data-stu-id="81156-361">Notice that we use *SiteModificationManager.StorageQueueName* in both sides to ensure that the queue name is matching.</span></span>

<span data-ttu-id="81156-362">**Tatsächliche Konfigurationen auf der Website anwenden**</span><span class="sxs-lookup"><span data-stu-id="81156-362">**Apply actual configurations to the site**</span></span>

<span data-ttu-id="81156-363">In dieser Referenz Implementierungen sind wir folgende Anpassungen für jede der OD4B Sites ausführen.</span><span class="sxs-lookup"><span data-stu-id="81156-363">In this reference implementations we are performing following customizations to each of the OD4B sites.</span></span>

- <span data-ttu-id="81156-364">Fügen Sie Unternehmen Richtlinie Nachricht der immer, auf den Websites OD4B angezeigt wird hinzu</span><span class="sxs-lookup"><span data-stu-id="81156-364">Add company policy message which is shown all the time in the OD4B sites</span></span>
- <span data-ttu-id="81156-365">Ausblenden Sub-Website die Verknüpfungsoption aus Inhaltsseite Website erstellen</span><span class="sxs-lookup"><span data-stu-id="81156-365">Hide create sub site link option from site content page</span></span>
- <span data-ttu-id="81156-366">Anwenden von benutzerdefinierten Designs für die Website OD4B Unternehmen branding entsprechen</span><span class="sxs-lookup"><span data-stu-id="81156-366">Apply custom theme to the OD4B site to match company branding</span></span>

<span data-ttu-id="81156-367">Unternehmensrichtlinie und Ausblenden der Link erstellen Sub-Website sind erreicht wird mit so JavaScript Einbetten von Muster genannt, in dem wir hinzufügen benutzerdefinierten Benutzeraktion auf der Websiteebene bei bestimmten JavaScript-Datei, klicken Sie dann in jede Anforderung einer Seite ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="81156-367">Company policy and hiding the create sub site link are being achieved using so called JavaScript embedding pattern where we add custom user action to the site level with reference to specific JavaScript file, which is then being executed in every page request.</span></span> <span data-ttu-id="81156-368">Dies bedeutet, dass wir die Seite Verarbeitung von Client-Side-Technologien durch Hinzufügen, entfernen oder aktualisieren ein Element in einer beliebigen Seite steuern können.</span><span class="sxs-lookup"><span data-stu-id="81156-368">This means that we can control the page processing using client side technologies by adding, removing or updating any element in any page.</span></span> <span data-ttu-id="81156-369">Mit diesem Ansatz wir keine einführen eine benutzerdefinierte Gestaltungsvorlage müssen, die uns wichtiger langfristig Wartungskosten, könnte insbesondere dann, wenn die erforderlichen Änderungen minimal sind.</span><span class="sxs-lookup"><span data-stu-id="81156-369">Using this approach we do not need to introduce a custom master page, which could cause us more significant long term maintenance costs, especially if the needed changes are pretty minimal.</span></span>

<span data-ttu-id="81156-370">Zweiter Vorgang mit der benutzerdefinierten Designs erfordern, dass wir einige zusätzlichen Dateien auf der Website hochladen, und legen Sie dann die als Design Einstellungen verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="81156-370">Second operation with the custom themes require that we upload some additional files to the site and then set those to be used as theme settings.</span></span> <span data-ttu-id="81156-371">Streng verwenden wir CSOM, um alle erforderlichen Dateien in die Websites, um zu vermeiden alle zukünftigen mit Feature Framework-Element Zuordnungen hoch.</span><span class="sxs-lookup"><span data-stu-id="81156-371">We do use strictly CSOM to upload all needed files to the sites to avoid any future complications with feature framework element associations.</span></span> <span data-ttu-id="81156-372">Da Hochladen einer Datei auf die Verwendung des CSOM SharePoint ganz einfach ist, dies auf jeden Fall die einfachste Möglichkeit zum Ausführen der Automatisierungs ist und nicht erforderlich, damit alle XML-spezifischen Konfigurationen Abhängigkeit zu sandkastenlösungen sorgen. Hier wird die aktuelle Website Konfigurationsmethode von OD4B.Configuration.Async.Common.SiteModificationManager-Klasse.</span><span class="sxs-lookup"><span data-stu-id="81156-372">Since uploading a file to the SharePoint using the CSOM is really simple, this is definitely the easiest way to perform the automation and you do not needed to worry about any xml specific configurations dependency to Sandbox solutions.Here’s the actual site configuration method from OD4B.Configuration.Async.Common.SiteModificationManager class.</span></span> <span data-ttu-id="81156-373">Beachten Sie, dass wir Office 365 Developer Plug & Play-Hauptkomponenten verwenden, um einige der erforderlichen Vorgänge zu vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="81156-373">Notice that we use the Office 365 Developer PnP core component to simplify some of the needed operations.</span></span>

<span data-ttu-id="81156-374">Es ist außerdem ratsam, beachten Sie, dass wir neue Version des der JS tatsächlich Stammwebsitesammlung jedes hochladen wir Anpassung persönliche OD4B Website Zeit.</span><span class="sxs-lookup"><span data-stu-id="81156-374">It is also good to notice that we do indeed upload new version of the JS to root site collection each time we customization personal OD4B site.</span></span> <span data-ttu-id="81156-375">Dies ist definitiv keine optimale Lösung, sondern vielmehr es Zwecken Einfachheit für diese Lösung Verweis.</span><span class="sxs-lookup"><span data-stu-id="81156-375">This is definitely not optimal solution, it’s rather there for simplicity purposes for this reference solution.</span></span> <span data-ttu-id="81156-376">Sie konnte sollten Sie JavaScript-Datei hochladen Operation app Installed-Ereignis, hinzufügen, damit es nur einmal ausgeführt wird, wenn die app installiert ist, aber in diesem Fall müssen Sie einige zusätzliche Arbeiten mit Updates für diese JS-Datei.</span><span class="sxs-lookup"><span data-stu-id="81156-376">You could consider adding that JavaScript file upload operation to app Installed event, so that it’s only done once when app is installed, but in that case you would have to do some additional work with any updates on that JS file.</span></span>

    // This function will get triggered/executed when a new message is written 
    // on an Azure Queue called queue.
    public static void ProcessQueueMessage(
        [QueueTrigger(SiteModificationManager.StorageQueueName)] 
        SiteModificationData request, TextWriter log)
    {
        Uri url = new Uri(request.SiteUrl);
     
        //Connect to the OD4B site using App Only token
       string realm = TokenHelper.GetRealmFromTargetUrl(url);
       var token = TokenHelper.GetAppOnlyAccessToken(
           TokenHelper.SharePointPrincipal, url.Authority, realm).AccessToken;
    
       using (var ctx = TokenHelper.GetClientContextWithAccessToken(
           url.ToString(), token))
       {
           // Set configuration object properly for setting the config
           SiteModificationConfig config = new SiteModificationConfig()
           {
               SiteUrl = url.ToString(),
               JSFile = Path.Combine(Environment.GetEnvironmentVariable
                   ("WEBROOT_PATH"), "Resources\\OneDriveConfiguration.js"),
               ThemeName = "Garage",
               ThemeColorFile = 
                   Path.Combine(Environment.GetEnvironmentVariable
                   ("WEBROOT_PATH"), "Resources\\Themes\\Garage\\garagewhite.spcolor"),
               ThemeBGFile = 
                   Path.Combine(Environment.GetEnvironmentVariable
                   ("WEBROOT_PATH"), "Resources\\Themes\\Garage\\garagebg.jpg"),
               ThemeFontFile = "" // Ignored in this case, but could be also set
           };
    
           new SiteModificationManager().ApplySiteConfiguration(ctx, config);
       }
    }

<span data-ttu-id="81156-377">Offensichtlich sind die erforderlichen Vorgänge hochgradig abhängig von Ihren geschäftlichen Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="81156-377">Obviously the needed operations are highly dependent on your business requirements.</span></span> <span data-ttu-id="81156-378">Sie können mehrere unterschiedliche Muster suchen und Ansätze mit CSOM-basierte Vorgänge aus dem [Office 365 Developer Mustern und Methoden](http://aka.ms/officedevpnp).</span><span class="sxs-lookup"><span data-stu-id="81156-378">You can find multiple different patterns and approaches with CSOM based operations from the [Office 365 Developer Patterns and Practices](http://aka.ms/officedevpnp).</span></span>

<a name="additional-notes-on-webjob-based-solutions"></a><span data-ttu-id="81156-379">Zusätzliche Hinweise auf WebJob-basierte Lösungen</span><span class="sxs-lookup"><span data-stu-id="81156-379">Additional notes on WebJob based solutions</span></span>
==========================================

<span data-ttu-id="81156-380">Nachfolgend finden Sie einige zusätzliche Hinweise zur WebJob-Entwicklung in Azure im Zusammenhang.</span><span class="sxs-lookup"><span data-stu-id="81156-380">Here’s few additional notes related on WebJob development in Azure.</span></span> <span data-ttu-id="81156-381">Dies ist äußerst Verfahren, die überwiegend definitiv cross-Anpassungen der Office 365 verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="81156-381">This is extremely powerful technique which will be definitely used widely cross Office 365 customizations.</span></span> <span data-ttu-id="81156-382">Sicherlich sehen Sie die neue und verbesserte Lösungen auf Grundlage der WebJob Technologie der Office 365 Developer Patterns & Practices Programm sowie hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="81156-382">You will certainly see new and enhanced solutions based on the WebJob technology be added to the Office 365 Developer Patterns & Practices program as well.</span></span>

<a name="debugging-webjob-and-customization-process"></a><span data-ttu-id="81156-383">Debugvorgang WebJob und Anpassung</span><span class="sxs-lookup"><span data-stu-id="81156-383">Debugging WebJob and customization process</span></span>
------------------------------------------

<span data-ttu-id="81156-384">Die folgende Vorgehensweisen für Code im Allgemeinen ist die tatsächlichen Operationen außerhalb die eigentliche letzte ausgeführte suchen, damit Sie können ersten konzentrieren sich auf den Tests benötigt Code auf einfache Weise einfach mithilfe Verwaltungskonsole Anwendung oder z. B. mit Testprojekten in der Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="81156-384">One of the good practices for your code in general is to locate the actual operations outside of the actual final executing process, so that you can first concentrate on testing needed code easily simply by using console application or for example with test projects in the Visual Studio.</span></span> <span data-ttu-id="81156-385">Auf diese Weise können Sie sicherstellen, dass die eigentliche Geschäftslogik Funktionalität vollständig ist, bevor Sie tatsächlich, die die letzte Prozess einbinden bedeutet in diesem Fall die WebJob.</span><span class="sxs-lookup"><span data-stu-id="81156-385">This way you can ensure that the actual business logic is fully functionality before you actually hook that to the final process, in this case meaning the WebJob.</span></span> <span data-ttu-id="81156-386">In diesem Fall der Verweis Lösung wir den Business Code auf die Klasse OD4B.Configuration.Async.Common.SiteModificationManager platziert werden und wir aufrufen, die von zahlreichen Standorten.</span><span class="sxs-lookup"><span data-stu-id="81156-386">In this reference solution case we placed all the business code to the OD4B.Configuration.Async.Common.SiteModificationManager class and we call that from numerous locations.</span></span>

<span data-ttu-id="81156-387">Dies bedeutete, dass während der Entwicklungszeit wir OD4B verwenden könnten. Configuration.Async.Console.Reset Konsolenanwendung zum Testen und Zurücksetzen der Anpassungen so oft wie von den Websites benötigt, um sicherzustellen, dass diese Geschäftslogik ist vollständig Durchgezogen.</span><span class="sxs-lookup"><span data-stu-id="81156-387">This meant that during development time we could use OD4B.Configuration.Async.Console.Reset console application to test and reset the customizations as many times as needed from the sites to ensure that business logic is fully solid.</span></span> <span data-ttu-id="81156-388">Dies hat eigentlich nichts tun mit SharePoint-Add-in-Modell oder Azure-Entwicklung, vielmehr praktische schrittweise Entwicklungskonzepten unabhängig davon welche Technologie, die Sie verwenden.</span><span class="sxs-lookup"><span data-stu-id="81156-388">This really has nothing to do with SharePoint Add-in model or Azure development, rather practical step-by-step development practices regardless of what technology you use.</span></span> <span data-ttu-id="81156-389">In Zeiten, wenn ich ein Lautsprecher in der MCM für SharePoint Zertifizierung Schulung wurde, ich wurde in Bezug auf diese wie die [NKOTB-Methode](https://www.youtube.com/watch?v=iCrargw1rrM), aber das ist nicht wirklich eine Industrie-standard-Terminologie :-)</span><span class="sxs-lookup"><span data-stu-id="81156-389">During times when I was a speaker in the MCM for SharePoint certification training I was referring to this as the [NKOTB method](https://www.youtube.com/watch?v=iCrargw1rrM), but that’s not really a industry standard terminology :-)</span></span>

<span data-ttu-id="81156-390">Eine der hervorragende Verbesserungen hinsichtlich der debugging für die WebJobs wurde in das Visual Studio 2014 4 eingeführt.</span><span class="sxs-lookup"><span data-stu-id="81156-390">One of the great improvements from the debugging perspective for the WebJobs was introduced in the Visual Studio 2014 Update 4.</span></span> <span data-ttu-id="81156-391">Die neu eingeführten Azure Verbindungen und Projektvorlagen können Sie tatsächlich Remotedebuggen mit WebJob in der Azure-Seite ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="81156-391">With the newly introduced Azure connections and project templates, you can actually do remote debugging with WebJob running in the Azure side.</span></span> <span data-ttu-id="81156-392">Sie müssen die WebJob für die Azure und nach dem bereitstellen, auf denen können Sie die Debugsitzung starten, indem rechts auf WebJob-Instanz aus klicken Sie im *Server-Explorer* , und wählen im Kontextmenü die Option *Debugger anfügen* .</span><span class="sxs-lookup"><span data-stu-id="81156-392">You will need to deploy the WebJob to the Azure and after that you can start the debugging session by right clicking WebJob instance from the *Server Explorer* and choose *Attach Debugger* from the context menu.</span></span>

![Klicken Sie im Server-Explorer erweitert die geschachtelte Objekte-Websites, Vesaj-od4bconf, WebJobs, kontinuierliche, OD4BConfigurationAsyncWebJob.](media/Recipes/OD4BCustomization/server-explorer.png)

<span data-ttu-id="81156-395">Es gibt sogar ein Tester zum Senden von Recht formatierter Nachrichten an die Warteschlange in der Referenz-Lösung.</span><span class="sxs-lookup"><span data-stu-id="81156-395">There’s even a tester for sending rightly formatted messages to the queue in the reference solution.</span></span> <span data-ttu-id="81156-396">*OD4B. Configuration.Async.Console.SendMessage* Projekt einfach um haben die Möglichkeit, den Prozess WebJob Debuggen, ohne das app-Webpart an ein anderes bereitstellen erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="81156-396">*OD4B.Configuration.Async.Console.SendMessage* project was created simply to have the opportunity to debug the WebJob process without being forced to deploy the app part to anywhere.</span></span> <span data-ttu-id="81156-397">Trat wieder auf das Debuggen und testen den gesamten Prozess schrittweise erneut.</span><span class="sxs-lookup"><span data-stu-id="81156-397">This came back again on debugging and testing the whole process step-by-step.</span></span>

<a name="webjob-environment-variables"></a><span data-ttu-id="81156-398">WebJob Umgebungsvariablen</span><span class="sxs-lookup"><span data-stu-id="81156-398">WebJob environment variables</span></span>
----------------------------

<span data-ttu-id="81156-399">Eine interessante Aspekte zu den WebJobs sind, dass sie unter einem Azure Websites ausgeführt werden, aber ihre Ausführung Speicherort ist geringfügig normalen Websites in Azure.</span><span class="sxs-lookup"><span data-stu-id="81156-399">One of the interesting things about the WebJobs are that they are running under a Azure web sites, but their execution location is slightly different than normal web sites in Azure.</span></span> <span data-ttu-id="81156-400">Bedeutung ich dabei ist, wenn Sie zusätzliche Dateien oder Objekte zusammen mit der WebJob für die Azure bereitstellen, Probleme auftreten kann, wenn Sie davon ausgehen, dass Sie die Ressourcen direkt im Code WebJob mit klassischen relative Pfade verweisen können.</span><span class="sxs-lookup"><span data-stu-id="81156-400">What I mean with this is that if you deploy any additional files or assets together with the WebJob to the Azure, you might run into challenges if you assume that you can reference those assets directly using classic relative paths in the WebJob code.</span></span>

<span data-ttu-id="81156-401">In diesem Fall haben wir eine JavaScript-Datei und einige Dateien für das benutzerdefinierte Design, die auf der Azure-Website bereitgestellt wurden, damit sie bei Bedarf in der SharePoint-Websites hochgeladen werden konnte.</span><span class="sxs-lookup"><span data-stu-id="81156-401">In this case we had one JavaScript file and few files for the custom theme, which were deployed to the Azure web site, so that they could be uploaded to the SharePoint sites as needed.</span></span> <span data-ttu-id="81156-402">Sie können diese Dateien in der Azure sehen, wenn Sie die Verzweigung Dateien unter bestimmten Website erweitern.</span><span class="sxs-lookup"><span data-stu-id="81156-402">You can see those files in the Azure if you extend the Files branch under specific web site.</span></span>

![Klicken Sie im Server-Explorer erweitert geschachtelte Objekte-Websites, Vesaj od4bconf, Dateien, Ressourcen, Designs, Garage und Dateien im Ordner Garage angezeigt.](media/Recipes/OD4BCustomization/azure-web-site.png)

<span data-ttu-id="81156-404">In der Regel in Azure-Websites verweisen Sie auf diese Dateien mit folgendem format</span><span class="sxs-lookup"><span data-stu-id="81156-404">Typically in Azure web sites, you could reference to those files by using following format</span></span>

    string path = HostingEnvironment.MapPath(
        string.Format("~/{0}", "Resources/OneDriveConfiguration.js"));

<span data-ttu-id="81156-405">Da WebJobs jedoch in anderen Speicherort und nicht im Kontext von IIS ausgeführt werden, funktioniert über den Verweis auf die Datei nicht, da Zuordnung aus dem Kontext des Prozesses WebJob fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="81156-405">Since WebJobs are however executed in different location and not in the context of IIS, above reference to file would not work, since mapping would fail from the context of the WebJob process.</span></span> <span data-ttu-id="81156-406">Dies ist, in dem bestimmte Umgebungsvariablen WebJob helfen kann.</span><span class="sxs-lookup"><span data-stu-id="81156-406">This is where WebJob specific environment variables can help.</span></span>  <span data-ttu-id="81156-407">Im Fall Lösung Verweis verwendet haben wir bestimmte Umgebungsvariable WEBROOT_PATH WebJob für den Zugriff auf den Ordner zugeordnete Website.</span><span class="sxs-lookup"><span data-stu-id="81156-407">In the reference solution case, we used WebJob specific environment variable WEBROOT_PATH to gain access on the associated web site folder.</span></span>

    string jsFile = Path.Combine(
        Environment.GetEnvironmentVariable("WEBROOT_PATH"), 
        "Resources\\OneDriveConfiguration.js");

<span data-ttu-id="81156-408">Es gibt auch einige Umgebungsvariablen für WebJobs, die Ihnen helfen kann.</span><span class="sxs-lookup"><span data-stu-id="81156-408">There are also few other environment variables for WebJobs, which might help you.</span></span> <span data-ttu-id="81156-409">Sie können die anderen Umgebungsvariablen mithilfe von Code überprüfen und eine gute Verweise in der GitHub für [diese](https://gist.github.com/sayedihashimi/831d8883cdf1d23823f3)vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="81156-409">You can check the different environment variables using code and there’s good references in the GitHub for [this](https://gist.github.com/sayedihashimi/831d8883cdf1d23823f3).</span></span>

<a name="video-demonstrating-the-solution-and-the-actions"></a><span data-ttu-id="81156-410">Video zum Demonstrieren der Lösung und Aktionen</span><span class="sxs-lookup"><span data-stu-id="81156-410">Video demonstrating the solution and the actions</span></span>
================================================

<span data-ttu-id="81156-411">[Nachfolgend finden Sie ein Video](http://video.ch9.ms/ch9/053b/3496f324-dc88-4e1f-937f-e1a177fc053b/OD4BCustomizer_high.mp4) zeigt die Lösung in der Praxis, einschließlich Erläuterung der Lösung Strukturen und wie Sie es in der Office 365-Umgebung verwenden würden OneDrive for Business-Websites zu ändern.</span><span class="sxs-lookup"><span data-stu-id="81156-411">[Here’s a video](http://video.ch9.ms/ch9/053b/3496f324-dc88-4e1f-937f-e1a177fc053b/OD4BCustomizer_high.mp4) showing the solution in practice, including explanation of the solution structures and how you would use it in your Office 365 environment to modify OneDrive for Business sites.</span></span>

<a name="related-links"></a><span data-ttu-id="81156-412">Verwandte links</span><span class="sxs-lookup"><span data-stu-id="81156-412">Related links</span></span>
=============
- [<span data-ttu-id="81156-413">Anpassen der OneDrive für Unternehmen Websitebranding</span><span class="sxs-lookup"><span data-stu-id="81156-413">Customize OneDrive for Business site branding</span></span>](Customization-Options-For-OD4B-Sites.md)
- <span data-ttu-id="81156-414">Artikel mit Hinweisen zur [http://aka.ms/OfficeDevPnPGuidance](http://aka.ms/OfficeDevPnPGuidance "Artikel mit Hinweisen zur")</span><span class="sxs-lookup"><span data-stu-id="81156-414">Guidance articles at [http://aka.ms/OfficeDevPnPGuidance](http://aka.ms/OfficeDevPnPGuidance "Guidance Articles")</span></span>
- <span data-ttu-id="81156-415">Feldverweise in MSDN unter [http://aka.ms/OfficeDevPnPMSDN](http://aka.ms/OfficeDevPnPMSDN "Verweise in MSDN")</span><span class="sxs-lookup"><span data-stu-id="81156-415">References in MSDN at [http://aka.ms/OfficeDevPnPMSDN](http://aka.ms/OfficeDevPnPMSDN "References in MSDN")</span></span>
- <span data-ttu-id="81156-416">Videos zur [http://aka.ms/OfficeDevPnPVideos](http://aka.ms/OfficeDevPnPVideos "Videos")</span><span class="sxs-lookup"><span data-stu-id="81156-416">Videos at [http://aka.ms/OfficeDevPnPVideos](http://aka.ms/OfficeDevPnPVideos "Videos")</span></span>

<a name="related-pnp-samples"></a><span data-ttu-id="81156-417">Verwandte Plug & Play-Beispiele</span><span class="sxs-lookup"><span data-stu-id="81156-417">Related PnP samples</span></span>
===================

- [<span data-ttu-id="81156-418">OD4B. Configuration.Async (O365 Plug & Play-Beispiel)</span><span class="sxs-lookup"><span data-stu-id="81156-418">OD4B.Configuration.Async (O365 PnP Sample)</span></span>](https://github.com/SharePoint/PnP/tree/master/Solutions/OD4B.Configuration.Async)
- [<span data-ttu-id="81156-419">Provisioning.OneDriveProvisioning (O365 Plug & Play-Beispiel)</span><span class="sxs-lookup"><span data-stu-id="81156-419">Provisioning.OneDriveProvisioning (O365 PnP Sample)</span></span>](https://github.com/SharePoint/PnP/tree/master/Samples/Provisioning.OneDriveProvisioning)
- [<span data-ttu-id="81156-420">Plug & Play-Hauptkomponente von Office</span><span class="sxs-lookup"><span data-stu-id="81156-420">Office PnP Core component</span></span>](https://github.com/SharePoint/PnP-Sites-Core/tree/master/Core)
- <span data-ttu-id="81156-421">Beispiele und Inhalte am https://github.com/SharePoint/PnP</span><span class="sxs-lookup"><span data-stu-id="81156-421">Samples and content at https://github.com/SharePoint/PnP</span></span>

<a name="applies-to"></a><span data-ttu-id="81156-422">Gilt für</span><span class="sxs-lookup"><span data-stu-id="81156-422">Applies to</span></span>
==========
- <span data-ttu-id="81156-423">Office 365 mit mehreren Mandanten (MT)</span><span class="sxs-lookup"><span data-stu-id="81156-423">Office 365 Multi Tenant (MT)</span></span>
- <span data-ttu-id="81156-424">Office 365 dedizierte (D) *teilweise*</span><span class="sxs-lookup"><span data-stu-id="81156-424">Office 365 Dedicated (D) *partly*</span></span>
- <span data-ttu-id="81156-425">SharePoint 2013 lokal – *teilweise*</span><span class="sxs-lookup"><span data-stu-id="81156-425">SharePoint 2013 on-premises – *partly*</span></span>

<span data-ttu-id="81156-426">*Muster für dedizierte und lokalen sind identisch mit SharePoint-Add-in-Objektmodell Techniken, aber Unterschiede bestehen, auf die möglichen-Technologien, die verwendet werden können.*</span><span class="sxs-lookup"><span data-stu-id="81156-426">*Patterns for dedicated and on-premises are identical with SharePoint Add-in model techniques, but there are differences on the possible technologies that can be used.*</span></span>
