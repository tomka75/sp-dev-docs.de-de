# <a name="authorization-and-authentication-of-sharepoint-add-ins"></a><span data-ttu-id="7efd2-101">Autorisierung und Authentifizierung von SharePoint-Add-Ins</span><span class="sxs-lookup"><span data-stu-id="7efd2-101">Authorization and authentication of SharePoint Add-ins</span></span>
<span data-ttu-id="7efd2-102">Hier erhalten Sie einen Überblick über die Authentifizierung und Autorisierung in SharePoint, die verwendet werden, um Anforderungen eines SharePoint-Add-Ins für den Zugriff auf SharePoint-Ressourcen zu autorisieren.</span><span class="sxs-lookup"><span data-stu-id="7efd2-102">Get an overview of authentication and authorization in SharePoint, which is used to authorize requests by a SharePoint Add-in to access SharePoint resources. Watch a video about add-in identity.</span></span>
 

 <span data-ttu-id="7efd2-p101">**Hinweis** Der Name „Apps für SharePoint“ wird in „SharePoint-Add-Ins“ geändert. Während des Übergangszeitraums wird in der Dokumentation und der Benutzeroberfläche einiger SharePoint-Produkte und Visual Studio-Tools möglicherweise weiterhin der Begriff „Apps für SharePoint“ verwendet. Weitere Informationen finden Sie unter [Neuer Name für Office- und SharePoint-Apps](new-name-for-apps-for-sharepoint#bk_newname).</span><span class="sxs-lookup"><span data-stu-id="7efd2-p101">The name "apps for SharePoint" is changing to "SharePoint Add-ins". During the transition, the documentation and the UI of some SharePoint products and Visual Studio tools might still use the term "apps for SharePoint". For details, see [New name for apps for Office and SharePoint](new-name-for-apps-for-sharepoint#bk_newname).</span></span>
 

## <a name="add-in-authentication-in-sharepoint"></a><span data-ttu-id="7efd2-106">Add-In-Authentifizierung in SharePoint</span><span class="sxs-lookup"><span data-stu-id="7efd2-106">Add-in authentication in SharePoint</span></span>
<span data-ttu-id="7efd2-107"><a name="AuthN"> </a></span><span class="sxs-lookup"><span data-stu-id="7efd2-107"></span></span>

<span data-ttu-id="7efd2-p102">Wenn sich ein  *Benutzer*  bei SharePoint anmeldet, wird das Sicherheitstoken des Benutzers überprüft. Das Token wird von einem Identitätsanbieter ausgestellt. SharePoint unterstützt mehrere Arten der Benutzerauthentifizierung. Weitere Informationen finden Sie unter [Authentifizierung, Autorisierung und Sicherheit in SharePoint](http://msdn.microsoft.com/library/8734790c-eb75-4d78-9604-7cc23b33b693%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="7efd2-p102">When a  *user*  signs in to SharePoint, the user's security token is validated. The token is issued by an identity provider. SharePoint supports several kinds of user authentication. For more information, see [Authentication, authorization, and security in SharePoint](http://msdn.microsoft.com/library/8734790c-eb75-4d78-9604-7cc23b33b693%28Office.15%29.aspx).</span></span>
 

 
<span data-ttu-id="7efd2-p103">SharePoint-Add-Ins sind außerdem Sicherheitsprinzipale, die authentifiziert und autorisiert werden müssen. Add-Ins können auf verschiedene Weise authentifiziert und autorisiert werden. Weitere Informationen finden Sie unter  [Drei Autorisierungssysteme für SharePoint-Add-Ins](three-authorization-systems-for-sharepoint-add-ins).</span><span class="sxs-lookup"><span data-stu-id="7efd2-p103">SharePoint Add-ins are also security principals that need to be authenticated and authorized. Add-ins can be authenticated and authorized in several different ways. For more information, see  [Three authorization systems for SharePoint Add-ins](three-authorization-systems-for-sharepoint-add-ins).</span></span> 
 

 

## <a name="authorization-policies-user-only-policy-useradd-in-policy-or-add-in-only-policy"></a><span data-ttu-id="7efd2-115">Autorisierungsrichtlinien: Nur-Benutzer-Richtlinie, Benutzer-und-Add-In-Richtlinie oder Nur-Add-In-Richtlinie</span><span class="sxs-lookup"><span data-stu-id="7efd2-115">Authorization policies: user-only policy, user+add-in policy, or add-in-only policy</span></span>
<span data-ttu-id="7efd2-116"><a name="AuthZ"> </a></span><span class="sxs-lookup"><span data-stu-id="7efd2-116"></span></span>

<span data-ttu-id="7efd2-117">Die Autorisierung überprüft, ob ein authentifizierter Antragsteller (ein Add-In oder ein Benutzer oder beide) berechtigt ist, bestimmte Vorgänge durchzuführen oder auf bestimmte Ressourcen zuzugreifen (z. B. eine Liste oder einen SharePoint-Dokumentordner).</span><span class="sxs-lookup"><span data-stu-id="7efd2-117">The authorization process verifies that an authenticated subject (an add-in or a user or both) has permission to perform certain operations or to access specific resources (for example, a list or a SharePoint document folder).</span></span>
 

 
<span data-ttu-id="7efd2-p104">SharePoint verwendet drei Arten von Autorisierungsrichtlinien. Die Nur-Benutzer-Richtlinie erfordert, dass der Aufruf an SharePoint nur eine authentifizierte Benutzeridentität enthält. Die Nur-Add-In-Richtlinie erfordert, dass der Aufruf nur eine authentifizierte Add-In-Identität enthält. Die Benutzer-und-Add-In-Richtlinie erfordert, dass der Aufruf beide Arten von authentifizierten Identitäten enthält. Wenn ein Benutzer über die SharePoint-Benutzeroberfläche statt über ein Add-In auf SharePoint-Ressourcen zugreift, verwendet SharePoint die Nur-Benutzer-Richtlinie. Bei Aufrufen von einem SharePoint-Add-In verwendet SharePoint jedoch immer entweder die Nur-Add-In- oder Benutzer-und-Add-In-Richtlinie. Das SharePoint-Add-In bestimmt anhand des Zugriffstokens, das es in seine Anforderung an SharePoint einschließt, welche Richtlinie verwendet wird. Wenn eine Benutzer-und-Add-In-Anforderung gestellt wird, verlangt SharePoint, dass sowohl das Add-In als auch der Benutzer über die Berechtigung für die Ressource verfügen, auf die das Add-In zugreift. Im Fall einer Nur-Add-In-Anforderung verlangt SharePoint, dass das Add-In über die Berechtigung für die Ressource verfügt, es spielt aber keine Rolle, ob der Benutzer über die Berechtigung verfügt oder nicht. (Ein SharePoint-Add-In kann Nur-Add-In-Anforderungen nur durchführen, wenn es zuvor die Berechtigung dafür erhalten hat, normalerweise bei der Installation.)</span><span class="sxs-lookup"><span data-stu-id="7efd2-p104">SharePoint users three types of authorization policies. The user-only policy requires only that the call to SharePoint include an authenticated user identity. Theadd-in-only policy requires only that the call include only an authenticated add-in identity. Theuser+add-in policy requires that the call include both kinds of authenticated identities. When a user accesses SharePoint resources through the SharePoint UI, instead of through an add-in, SharePoint uses the user-only policy. However, for calls from a SharePoint Add-in, SharePoint always uses either the add-in-only or the user+add-in policy. The SharePoint Add-in determines which policy is used by the type of access token that it includes in its request to SharePoint. If a user+add-in request is made, SharePoint will require that both the add-in and the user have permission to the resource the add-in is accessing. In the case of an add-in-only request, SharePoint requires that the add-in have permission to the resource, but it does not matter whether the user does or not. (a SharePoint Add-in can make add-in-only requests only if it has been given permission to do so in advance; typically, when it is installed.)</span></span>
 

 
<span data-ttu-id="7efd2-128">Weitere Informationen über Autorisierungsrichtlinien und ihre Funktionsweise finden Sie unter [Add-In-Autorisierungsrichtlinientypen in SharePoint](add-in-authorization-policy-types-in-sharepoint-2013).</span><span class="sxs-lookup"><span data-stu-id="7efd2-128">For more information about authorization policies and how they work, see  [Add-in authorization policy types in SharePoint](add-in-authorization-policy-types-in-sharepoint-2013).</span></span>
 

 

## <a name="add-in-permissions-and-add-in-permission-request-scopes"></a><span data-ttu-id="7efd2-129">Add-In-Berechtigungen und Bereich von Add-In-Berechtigungsanforderungen</span><span class="sxs-lookup"><span data-stu-id="7efd2-129">Add-in permissions and add-in permission request scopes</span></span>
<span data-ttu-id="7efd2-130"><a name="Permissions"> </a></span><span class="sxs-lookup"><span data-stu-id="7efd2-130"></span></span>

<span data-ttu-id="7efd2-p105">Der Entwickler eines SharePoint-Add-Ins muss über die Add-In-Manifestdatei die Berechtigungen angeben, die ein Add-In für SharePoint-Ressourcen außerhalb des Add-In-Webs benötigt. (Das Add-In erhält automatisch die Vollzugriffsberechtigung auf das gesamte Add-In-Web). Wenn das Add-In darauf ausgelegt ist, direkt aus SharePoint gestartet zu werden, fordert die Installationsinfrastruktur des Add-Ins den Benutzer, der das Add-In installiert hat, dazu auf, dem Add-In die benötigten Berechtigungen zu gewähren oder zu verweigern. Nachdem die Berechtigungen gewährt wurden, können Benutzer der Website das Add-In verwenden, ohne ihm die Berechtigungen erneut zu gewähren. Wenn das Add-In jedoch darauf ausgelegt ist, außerhalb von SharePoint gestartet zu werden, das heißt, das Add-In ist nicht in SharePoint installiert, dann fordert SharePoint den Benutzer, der das Add-In ausführt, dazu auf, die erforderlichen Berechtigungen bei jeder Ausführung des Add-Ins zu gewähren. Add-Ins auf mobilen Geräten und Office-Add-Ins sind Beispiele für Add-Ins, die auf SharePoint zugreifen können, aber nicht darin installiert sind.</span><span class="sxs-lookup"><span data-stu-id="7efd2-p105">The developer of a SharePoint Add-in must specify, through the add-in manifest file, the permissions an add-in needs to SharePoint resources outside the add-in web. (The add-in automatically has full control permission to the entire add-in web.) When the add-in is designed to be launched from within SharePoint, the add-in installation infrastructure prompts the user who installs the add-in to grant or deny the needed permissions. Once the permissions have been granted, users of the website can use the add-in without having to re-grant it permissions. However, when the add-in is designed to be launched outside of SharePoint; that is, it is not installed on SharePoint, then SharePoint will prompt the user who is executing the add-in to grant the needed permissions each time the add-in is run. Add-ins on mobile devices and Office Add-ins are examples of add-ins that can access SharePoint, but are not installed on it.</span></span>
 

 
<span data-ttu-id="7efd2-p106">Nur ein Websitebesitzer kann ein SharePoint-Add-In auf einer SharePoint-Website installieren (sofern keine benutzerdefinierte Rolle erstellt wurde, die über Add-In-Installationsrechte verfügt). Ein Benutzer kann einem Add-In nur die Berechtigungen erteilen, über die er selbst verfügt. Ein Benutzer kann also kein Add-In installieren, das Berechtigungen erfordert, über die der Benutzer nicht verfügt. Auf ähnliche Weise kann ein Benutzer kein Add-In ausführen und extern starten, das Berechtigungen benötigt, über die der Benutzer nicht verfügt. Wenn ein SharePoint-Add-In jedoch in SharePoint installiert ist, kann es die Berechtigung anfordern, Nur-Add-In-Aufrufe durchzuführen. Ein Add-In, das über diese Berechtigung verfügt, kann auf eine Art und Weise auf SharePoint zugreifen, für die der Benutzer keine Berechtigung hat.</span><span class="sxs-lookup"><span data-stu-id="7efd2-p106">Only a website owner can install a SharePoint Add-in on a SharePoint website (unless a custom role has been created that has add-in installation rights). A user can grant an add-in only those permissions that the user himself or herself has. So a user cannot install an add-in that needs permissions the user doesn't have. Similarly, a user cannot run and externally launched add-in that needs permissions that the user does not have. However, when a SharePoint Add-in is installed on SharePoint, it can ask for permission to make add-in-only calls. An add-in that has that permission can access SharePoint in ways that the user running the add-in does not have permission to do.</span></span>
 

 
<span data-ttu-id="7efd2-142">Berechtigungen für Add-Ins können auch von SharePoint Online-Mandantenadministratoren oder SharePoint-Farmadministratoren widerrufen oder gewährt werden.</span><span class="sxs-lookup"><span data-stu-id="7efd2-142">Add-ins can also have permissions revoked or granted by SharePoint Online tenant administrators or SharePoint farm administrators.</span></span>
 

 
<span data-ttu-id="7efd2-p107">In der Add-In-Manifestdatei gibt ein SharePoint-Add-In die Berechtigungen an, die es für eine ordnungsgemäße Funktionsweise benötigt. In den Berechtigungsanforderungen sind sowohl die Rechte angegeben, die ein Add-In benötigt, als auch der Bereich, in dem die Rechte benötigt werden. Bereiche geben an, an welcher Stelle in der SharePoint-Hierarchie eine Berechtigungsanforderung angewendet wird. SharePoint unterstützt vier unterschiedliche Inhaltsbereiche: Mandant, Websitesammlung, Website und Liste. Außerdem gibt es spezielle Bereiche zum Ausführen von Suchabfragen, Zugreifen auf Taxonomiedaten, Features für soziale Netzwerke, Microsoft Business Connectivity Services (BCS)-Features und Project Server 2013-Features. Weitere Informationen zu Add-In-Berechtigungen finden Sie unter  [Add-In-Berechtigungen in SharePoint](add-in-permissions-in-sharepoint-2013).</span><span class="sxs-lookup"><span data-stu-id="7efd2-p107">In the add-in manifest file, a SharePoint Add-in specifies the permissions that it needs to function correctly. The permission requests specify both the rights that an add-in needs and the scope at which they need the rights. Scopes indicate where in the SharePoint hierarchy a permission request applies. SharePoint supports four different content scopes: tenancy, site collection, website, and list. There are also special scopes for performing search queries, accessing taxonomy data, social features, Microsoft Business Connectivity Services (BCS) features, and Project Server 2013 features. For more information, see  [Add-in permissions in SharePoint](add-in-permissions-in-sharepoint-2013).</span></span>
 

 

## <a name="when-is-oauth-used"></a><span data-ttu-id="7efd2-149">Wann wird OAuth verwendet?</span><span class="sxs-lookup"><span data-stu-id="7efd2-149">When is OAuth used?</span></span>
<span data-ttu-id="7efd2-150"><a name="FileName_uniquekeyword4"> </a></span><span class="sxs-lookup"><span data-stu-id="7efd2-150"></span></span>

<span data-ttu-id="7efd2-p108">Möglicherweise haben Sie schon gehört, dass OAuth 2.0 eine wichtige Rolle bei der Authentifizierung und Autorisierung von SharePoint-Add-Ins spielt. Das ist tatsächlich der Fall, aber nicht unbedingt als Teil der Autorisierungsfunktion für jedes SharePoint-Add-In. Wenn Sie die Erstellung eines SharePoint-Add-Ins planen, das in einer Remotewebanwendung ausgeführt wird und über serverseitigen Code zurück an SharePoint kommuniziert, müssen Sie OAuth verwenden. Wenn die Remotewebanwendung nicht lokal vorhanden ist, würden Sie das  [Autorisierungssystem mit niedriger Vertrauensebene](creating-sharepoint-add-ins-that-use-low-trust-authorization) verwenden, bei dem Azure ACS der Aussteller des Zugriffstokens ist. Bei einer lokalen Version würden Sie normalerweise das [besonders vertrauenswürdige System](creating-sharepoint-add-ins-that-use-high-trust-authorization) verwenden, bei dem das Zugriffstoken vom Add-In selbst und einem digitalen Zertifikat ausgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="7efd2-p108">You may have already heard that OAuth 2.0 plays an important role in the authentication and authorization of SharePoint Add-ins. It does, but it is not necessarily a part of the authorization story for every SharePoint Add-in. If you plan to build a SharePoint Add-in that runs in an remote web application and communicates back to SharePoint using server-side code, you will need to use OAuth. If the remote web application is off premise, then you would use  [the low-trust authorization system](creating-sharepoint-add-ins-that-use-low-trust-authorization) in which Azure ACS is the access token issuer. If it is on premise, then you would typically use [the high-trust system](creating-sharepoint-add-ins-that-use-high-trust-authorization) in which the add-in itself and a digital certificate are the access token issuers.</span></span>
 

 
<span data-ttu-id="7efd2-p109">Sie würden OAuth nicht verwenden, um einen Aufruf von JavaScript auf einer Seite im Add-In selbst oder von einer Remotewebseite über  [die domänenübergreifende Bibliothek](creating-sharepoint-add-ins-that-use-the-cross-domain-library) durchzuführen. Weitere Informationen zur domänenübergreifenden Bibliothek finden Sie unter [Erstellen von SharePoint-Add-Ins, die die domänenübergreifende Bibliothek verwenden](creating-sharepoint-add-ins-that-use-the-cross-domain-library).</span><span class="sxs-lookup"><span data-stu-id="7efd2-p109">You would not use OAuth to make a call from JavaScript on a page in the add-in web itself or from a remote webpage using  [the cross-domain library](creating-sharepoint-add-ins-that-use-the-cross-domain-library). For more information on the cross-domain library, see  [Creating SharePoint Add-ins that use the cross-domain library](creating-sharepoint-add-ins-that-use-the-cross-domain-library).</span></span>
 

 

## <a name="additional-resources"></a><span data-ttu-id="7efd2-158">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="7efd2-158">Additional resources</span></span>
<span data-ttu-id="7efd2-159"><a name="Filename_AdditionalResources"> </a></span><span class="sxs-lookup"><span data-stu-id="7efd2-159"></span></span>


-  [<span data-ttu-id="7efd2-160">Drei Autorisierungssysteme für SharePoint-Add-Ins</span><span class="sxs-lookup"><span data-stu-id="7efd2-160">Three authorization systems for SharePoint Add-ins</span></span>](three-authorization-systems-for-sharepoint-add-ins)
    
 
-  [<span data-ttu-id="7efd2-161">Add-In-Berechtigungen in SharePoint</span><span class="sxs-lookup"><span data-stu-id="7efd2-161">Add-in permissions in SharePoint</span></span>](add-in-permissions-in-sharepoint-2013)
    
 
-  [<span data-ttu-id="7efd2-162">SharePoint-Add-Ins</span><span class="sxs-lookup"><span data-stu-id="7efd2-162">SharePoint Add-ins</span></span>](sharepoint-add-ins)
    
 
