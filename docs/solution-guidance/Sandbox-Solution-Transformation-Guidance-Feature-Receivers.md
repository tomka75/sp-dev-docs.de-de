---
title: "Sandkasten-Transformation ausgesprochen - Featureempfänger"
ms.date: 11/03/2017
ms.openlocfilehash: 4072e7d7b920bcb2347d40d1f1ff25cd2935b3c4
ms.sourcegitcommit: 65e885f547ca9055617fe0871a13c7fc85086032
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/06/2017
---
# <a name="sandbox-solution-transformation-guidance---feature-receivers"></a><span data-ttu-id="512da-102">Sandkasten-Transformation ausgesprochen - Featureempfänger</span><span class="sxs-lookup"><span data-stu-id="512da-102">Sandbox solution transformation guidance - Feature receivers</span></span> 
<span data-ttu-id="512da-103">Transformieren oder Konvertieren von codebasierte sandkastenlösungen in der SharePoint-add-in-Objektmodell.</span><span class="sxs-lookup"><span data-stu-id="512da-103">Transform or convert your code-based sandbox solutions to the SharePoint add-in model.</span></span> <span data-ttu-id="512da-104">Hier erfahren Sie, über die Optionen und Strategien für die vorhandenen Funktionalität in SharePoint-add-in-Modell oder alternative Lösungen zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="512da-104">Learn about the options and strategies of converting existing functionality to SharePoint add-in model or alternative solutions.</span></span>

<span data-ttu-id="512da-105">_**Gilt für:** Add-ins für SharePoint | SharePoint 2013 | SharePoint-2016 | SharePoint Online_</span><span class="sxs-lookup"><span data-stu-id="512da-105">_**Applies to:** Add-ins for SharePoint | SharePoint 2013 | SharePoint 2016 | SharePoint Online_</span></span>


## <a name="summary"></a><span data-ttu-id="512da-106">Summary</span><span class="sxs-lookup"><span data-stu-id="512da-106">Summary</span></span>
<span data-ttu-id="512da-107">Featureempfänger werden in der Regel verwendet, andere Art Konfigurationen oder Einstellungen auf SharePoint-Websites anwenden, wenn Feature aktiviert wird oder Site (wenn Feature zugeordnet, um die Vorlage Website / Webvorlagen) erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="512da-107">Feature receivers are typically used to apply different kind of configurations or settings to SharePoint sites when feature is activated or when site is created (if feature associated to site template / web template).</span></span> <span data-ttu-id="512da-108">Featureempfänger bereitgestellt von sandkastenlösungen in SharePoint Online, aber seit codebasierte Anpassungen keine Logner können nicht verwendet werden, alternative Entwurf muss ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="512da-108">Feature receivers have been deployed using Sandbox solutions in the SharePoint Online, but since code-based customizations cannot no logner be used, alternative design will need to be taken.</span></span> 

<span data-ttu-id="512da-109">Ansatz verwenden Sie zum Verarbeiten von featureempfängern in SharePoint unterscheidet sich etwas in der SharePoint-add-in-Objektmodell mit vollständigen vertrauen Code oder in der codierten sandkastenlösungen war.</span><span class="sxs-lookup"><span data-stu-id="512da-109">The approach you take to handle feature receivers in SharePoint is slightly different in the SharePoint add-in model than it was with Full Trust Code or in coded-sandbox solutions.</span></span> <span data-ttu-id="512da-110">Sie müssen die Lösung in Abwesend überarbeiten Sie, dass Sie remote-APIs (CSOM/REST) die erforderlichen Konfigurationen auf Ihren Websites anwenden, das zuvor in der Funktion Receiver(s) verwenden.</span><span class="sxs-lookup"><span data-stu-id="512da-110">You will need to re-design the solution in away that you use remote APIs (CSOM/REST) to apply the needed configurations to your sites, which previously existed in the feature receiver(s).</span></span> 


## <a name="options-for-replacing-feature-receivers"></a><span data-ttu-id="512da-111">Optionen für den Austausch von Featureempfängern</span><span class="sxs-lookup"><span data-stu-id="512da-111">Options for replacing Feature Receivers</span></span>
<span data-ttu-id="512da-112"><a name="sectionSection2"> </a></span><span class="sxs-lookup"><span data-stu-id="512da-112"></span></span>

|<span data-ttu-id="512da-113">**Ansatz**</span><span class="sxs-lookup"><span data-stu-id="512da-113">**Approach**</span></span>|<span data-ttu-id="512da-114">**Weitere Informationen**</span><span class="sxs-lookup"><span data-stu-id="512da-114">**Additional Information**</span></span>|
|:-----|:-----|
|<span data-ttu-id="512da-115">PowerShell-basierte Anpassungen</span><span class="sxs-lookup"><span data-stu-id="512da-115">PowerShell based customizations</span></span>|<p><span data-ttu-id="512da-116">Sie PowerShell-Skripts verwenden, um neue Websitesammlungen bereitstellen (und potenziell sub-Websites), in denen erforderliche Anpassungen mithilfe von remote-APIs angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="512da-116">You use PowerShell scripts to provision new site collections (and potentially sub sites) where needed customizations are applied using remote APIs.</span></span> <span data-ttu-id="512da-117">In der Regel mithilfe von CSOM/REST direkt in die PowerShell-Skripts oder mithilfe von Plug & Play-PowerShell-Befehle, erfolgt dies dem bietet einfache Möglichkeit, Websites und Inhalte Remote zu ändern.</span><span class="sxs-lookup"><span data-stu-id="512da-117">Typically this is done by using CSOM/REST directly in the PowerShell scripts or by using PnP PowerShell commands, which provides easy way to modify sites and content remotely.</span></span></p><p><lu><li>[<span data-ttu-id="512da-118">Plug & Play-Modul für die Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="512da-118">PnP Provisioning Engine</span></span>](https://github.com/SharePoint/PnP-PowerShell)</li><li>[<span data-ttu-id="512da-119">Plug & Play-PowerShell – erste Schritte mit den neuesten updates</span><span class="sxs-lookup"><span data-stu-id="512da-119">PnP PowerShell - Getting started with latest updates</span></span>](http://dev.office.com/blogs/pnp-powershell-getting-started-with-latest-updates)</li></lu></p>|
|<span data-ttu-id="512da-120">Code basierend Anpassungen</span><span class="sxs-lookup"><span data-stu-id="512da-120">Code based customizations</span></span>|<p><span data-ttu-id="512da-121">Sie können die erforderlichen Anpassungen auch mithilfe von verwaltetem Code mit remote-APIs anwenden.</span><span class="sxs-lookup"><span data-stu-id="512da-121">You can apply the needed customizations also using managed code with remote APIs.</span></span> <span data-ttu-id="512da-122">Dies bedeutet, dass Sie entweder sie als Teil der administrativen Vorgang beim Anwenden von Anpassungen auf SharePoint, die eingebunden wird im Code die Elemente der Benutzeroberfläche angewendet werden, wie durch die Sub Site Creation Logik Overiding angehören, oder die Website beim , sodass Anpassungen als Teil der Bereitstellung Logik zugeordnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="512da-122">This means that you will either apply them as part of the administrative operation when the site is created or you apply customizations to SharePoint, which will hook in your code to be part of the UI elements, like by overiding the sub site creation logic, so that you can associate customizations as part of the provisioning logic.</span></span></p><p><lu><li>[<span data-ttu-id="512da-123">Remote provisioning Muster für Sub Site creation</span><span class="sxs-lookup"><span data-stu-id="512da-123">Remote provisioning pattern for sub site creation</span></span>](https://channel9.msdn.com/blogs/OfficeDevPnP/Using-remote-provisioning-pattern-for-sub-site-creation)</li><li>[<span data-ttu-id="512da-124">Hauptkomponente Plug & Play-CSOM</span><span class="sxs-lookup"><span data-stu-id="512da-124">PnP CSOM Core Component</span></span>](https://github.com/SharePoint/PnP-sites-core)</li></lu></p>|

## <a name="design-considerations"></a><span data-ttu-id="512da-125">Entwurfsaspekte</span><span class="sxs-lookup"><span data-stu-id="512da-125">Design Considerations</span></span>
### <a name="powershell-based-provisioning"></a><span data-ttu-id="512da-126">PowerShell basierte Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="512da-126">PowerShell based provisioning</span></span>
<span data-ttu-id="512da-127">Dieses Modell funktioniert hervorragend, wenn Ihre Bereitstellung Modell Website administrativen Aktionen basiert.</span><span class="sxs-lookup"><span data-stu-id="512da-127">This model works great if your site provisioning model is based on administrative actions.</span></span>
- <span data-ttu-id="512da-128">Skript ausgeführt werden erfordert die erforderliche Anpassungen für erstellte Websites verwendet wird</span><span class="sxs-lookup"><span data-stu-id="512da-128">Does require script to be executed which applies needed customizations to created sites</span></span>
- <span data-ttu-id="512da-129">Kann zum websiteerstellungsprozesses, kombiniert werden, wenn vom als administrative Vorgang ausgeführt</span><span class="sxs-lookup"><span data-stu-id="512da-129">Can be combined to site creation process, if performed by as administrative operation</span></span>
- <span data-ttu-id="512da-130">Erfordert keinen Hostinginfrastruktur ab</span><span class="sxs-lookup"><span data-stu-id="512da-130">Does not require hosting infrastructure</span></span>
- <span data-ttu-id="512da-131">Keine Möglichkeit, die automatisch als Teil des Erstellungsprozesses Sub Website kombinieren</span><span class="sxs-lookup"><span data-stu-id="512da-131">No way to combine automatically as part of the sub site creation process</span></span>

### <a name="code-based-provisioning"></a><span data-ttu-id="512da-132">Codebasierten Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="512da-132">Code based provisioning</span></span>
- <span data-ttu-id="512da-133">Kann sperrt Hostinginfrastruktur ab, wenn mit der End-Benutzeroperationen kombiniert</span><span class="sxs-lookup"><span data-stu-id="512da-133">Can require hosting infrastructure, if combined with end user operations</span></span>
- <span data-ttu-id="512da-134">Sie können verwalteten Code verwenden, die an einer beliebigen Stelle mit CSOM/REST-APIs für die erforderlichen Vorgänge ausgeführt wird</span><span class="sxs-lookup"><span data-stu-id="512da-134">You can use managed code which is executed anywhere using CSOM/REST APIs for the needed operations</span></span>
- <span data-ttu-id="512da-135">Kann verwendet werden, um auf SharePoint integrieren, indem Sub Site Creation Link überschreiben</span><span class="sxs-lookup"><span data-stu-id="512da-135">Can be used to integrate to SharePoint by overriding sub site creation link</span></span>
- <span data-ttu-id="512da-136">Sie können Websitesammlung automatisieren und Unterwebsite bereitstellen mithilfe von remote-APIs</span><span class="sxs-lookup"><span data-stu-id="512da-136">You can automate site collection and subsite provisioning using remote APIs</span></span>

> <span data-ttu-id="512da-137">Wenn schafft automatische Möglichkeit zum Anwenden Remotecode als Teil der Sub Site Creation Logik benötigt werden soll, müssen Sie die Sub-Standortlinks mit benutzerdefinierten Benutzeraktionen außer Kraft setzen.</span><span class="sxs-lookup"><span data-stu-id="512da-137">If you want to provide automatic way to apply needed remote code as part of the sub site creation logic, you'll need to override sub site link using user custom actions.</span></span> <span data-ttu-id="512da-138">Diese Option ist nur entwerteten in Websites, die im klassischen Modus um Bibliotheken und Listen verwenden.</span><span class="sxs-lookup"><span data-stu-id="512da-138">This option is only availale in sites, which are using classic mode around libraries and lists.</span></span> 


## <a name="reference-approaches"></a><span data-ttu-id="512da-139">Verweis Ansätze</span><span class="sxs-lookup"><span data-stu-id="512da-139">Reference approaches</span></span>
### <a name="applying-needed-customizations-to-sites-using-powershell"></a><span data-ttu-id="512da-140">Anwenden von Anpassungen von Websites mithilfe von PowerShell erforderlich</span><span class="sxs-lookup"><span data-stu-id="512da-140">Applying needed customizations to sites using PowerShell</span></span>
<span data-ttu-id="512da-141">Hier ist ein einfaches Skript, das Plug & Play-PowerShell verwendet eine Designfarbe hochzuladenden Datei vom Computer mit SharePoint Online und aktiviert, die in der SharePoint-Website.</span><span class="sxs-lookup"><span data-stu-id="512da-141">Here's a simple script which is using PnP PowerShell to upload a theme color file from computer to SharePoint Online and activates that in SharePoint site.</span></span> 

> <span data-ttu-id="512da-142">In diesem Beispiel wird [Plug & Play-PowerShell](https://github.com/SharePoint/PnP-PowerShell)verwendet, das mehr als 150 zielorientierten zusätzlichen PowerShell-Cmdlets für die Standortkonfiguration und Asset Management bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="512da-142">This sample is using [PnP PowerShell](https://github.com/SharePoint/PnP-PowerShell), which provides more than 150 additional PowerShell cmdlets targeted for site configuration and asset management.</span></span> 

```postscript 

Connect-SPOnline –Url https://yoursite.sharepoint.com/ –Credentials (Get-Credential)
Add-SPOFile -Path c:\temp\company.spcolor -Folder /_catalogs/theme/15/
Set-SPOTheme -ColorPaletteUrl /_catalogs/theme/15/company.spcolor

```

### <a name="applying-needed-customizations-to-sites-using-code"></a><span data-ttu-id="512da-143">Anwenden von Anpassungen von Websites mithilfe von Code erforderlich</span><span class="sxs-lookup"><span data-stu-id="512da-143">Applying needed customizations to sites using code</span></span>
<span data-ttu-id="512da-144">Hier ist eine einfache Code die SharePoint Online-CSOM zum benutzerdefinierten Designs zu aktivieren, indem Sie zuerst die Anlagen auf SharePoint-Website hochladen und das anschließende Aktivieren benutzerdefiniertes Design verwendet.</span><span class="sxs-lookup"><span data-stu-id="512da-144">Here's a simple code piece which uses SharePoint Online CSOM to activate custom theme by first uploading the assets to SharePoint site and then activating custom theme.</span></span> 

> <span data-ttu-id="512da-145">In diesem Beispiel wird [Plug & Play-CSOM Hauptkomponente](https://github.com/SharePoint/PnP-sites-core), mithilfe der systemeigenen aus dem Feld Vorgängen durch die Einführung von zusätzlichen Satz von Erweiterungsmethoden für allgemeine Vorgänge erweitert.</span><span class="sxs-lookup"><span data-stu-id="512da-145">This sample is using [PnP CSOM Core Component](https://github.com/SharePoint/PnP-sites-core), which extends the native out of the box operations by introducing additional set of extension methods for common operations.</span></span> <span data-ttu-id="512da-146">Sie können ähnliche Vorgänge auch mithilfe von systemeigenen CSOM ausführen, aber Code wäre wesentlich komplexer.</span><span class="sxs-lookup"><span data-stu-id="512da-146">You can perform similar operations also by using native CSOM, but code would be significantly more complex.</span></span>

```csharp

// Upload assets to theme folder
clientContext.Site.RootWeb.UploadThemeFile(
        HostingEnvironment.MapPath(string.Format("~/{0}", "Resources/Themes/SPC/SPCTheme.spcolor")));
clientContext.Site.RootWeb.UploadThemeFile(
        HostingEnvironment.MapPath(string.Format("~/{0}", "Resources/Themes/SPC/SPCbg.jpg")));

Web web = clientContext.Web;
// loading RootWeb.ServerRelativeUrl property;
clientContext.Load(clientContext.Site, w => w.RootWeb.ServerRelativeUrl); 
clientContext.ExecuteQuery();
// Let's first upload the contoso theme to host web, if it does not exist there
web.CreateComposedLookByUrl("Contoso",
                clientContext.Site.RootWeb.ServerRelativeUrl + "/_catalogs/theme/15/SPCTheme.spcolor",
                null,
                clientContext.Site.RootWeb.ServerRelativeUrl + "/_catalogs/theme/15/SPCbg.jpg",
                string.Empty);

// Setting the Contoos theme to host web
web.SetComposedLookByUrl("Green");

```

<span data-ttu-id="512da-147">Wenn Sie Code basierend Ansätze verwenden, empfehlen wir [Plug & Play-Provisioning-Modul](http://dev.office.com/blogs/sharepoint-pnp-remote-provisioning-engine-august-2016) für die vorlagenverwaltung, die der Entwicklungsaufwand erheblich vereinfachen wird.</span><span class="sxs-lookup"><span data-stu-id="512da-147">When you are using code based approaches, we recommend using [PnP Provisioning Engine](http://dev.office.com/blogs/sharepoint-pnp-remote-provisioning-engine-august-2016) for the template management, which will dramatically simplify the development efforts.</span></span> 

## <a name="removing-sandbox-solution-containing-feature-receiver-code-from-your-site"></a><span data-ttu-id="512da-148">Sandkasten-Lösung, die mit Feature Receiver Code von Ihrer Website entfernen</span><span class="sxs-lookup"><span data-stu-id="512da-148">Removing sandbox solution containing feature receiver code from your site</span></span>
<span data-ttu-id="512da-149"><a name="sectionSection3"></a> Wenn die Sandkasten-Lösung Feature Ereignisempfänger Logik für die Deaktivierung des Features enthält, und es wichtig ist, dass diese ausgeführt werden bevor codebasierte Unterstützung vollständig entfernt wird, sollten Sie sicherstellen, dass diese Art von Features werden vor deaktiviert aus SharePoint Online ist die Unterstützung codebasierte deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="512da-149"><a name="sectionSection3"> </a> If your sandbox solution contains feature receivers logic for feature deactivation and it's important that those are being executed, before code-based support is completely removed, you should ensure that these kind of features are deactivated before the code-based support is disabled from SharePoint Online.</span></span> <span data-ttu-id="512da-150">Sie können sandkastenlösungen aus SharePoint Online deinstallieren, nachdem die Unterstützung codebasierte ist deaktiviert, aber Feature Receiver Code würde nicht ausgeführt werden, obwohl die Features von der Website verschoben werden.</span><span class="sxs-lookup"><span data-stu-id="512da-150">You can uninstall sandbox solutions from SharePoint Online after the code-based support is disabled, but your faeture receiver code would not be executed even though features are getting moved from the site.</span></span> 

<span data-ttu-id="512da-151">Wenn Sie Ihre vorhandenen Sandkasten-Lösung aus Ihrer Websites, die alle Elemente oder Dateien bereitgestellt, mit deklarativer Optionen werden jedoch nicht entfernt deaktivieren wird automatisch das Feature deaktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="512da-151">When you deactivate your existing sandbox solution from your sites, any assets or files deployed using declarative options will not be removed however, the feature will automatically be deactivated.</span></span> <span data-ttu-id="512da-152">Ausführung des Codes in den Featureempfänger ist abhängig von der Zeitpunkt, wenn die Lösung Sandkasten deaktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="512da-152">Execution of the code in the feature receiver, is dependent on the timing when the sandbox solution is deactivated.</span></span> 


## <a name="additional-resources"></a><span data-ttu-id="512da-153">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="512da-153">Additional Resources</span></span>
<span data-ttu-id="512da-154"><a name="bk_addresources"> </a></span><span class="sxs-lookup"><span data-stu-id="512da-154"></span></span>
-  [<span data-ttu-id="512da-155">Entfernen codebasierte Sandkastenlösungen in SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="512da-155">Removing Code-Based Sandbox Solutions in SharePoint Online</span></span>](http://dev.office.com/blogs/removing-code-based-sandbox-solutions-in-sharepoint-online)
-  [<span data-ttu-id="512da-156">Hilfestellung zur Transformation von Sandkastenlösungen</span><span class="sxs-lookup"><span data-stu-id="512da-156">Sandbox solution transformation guidance</span></span>](https://msdn.microsoft.com/en-us/pnp_articles/sandbox-solution-transformation-guidance)
-  <span data-ttu-id="512da-157">[Plug & Play-PowerShell](https://github.com/SharePoint/PnP-PowerShell/blob/master/README.md) - Skript wie Anpassungen</span><span class="sxs-lookup"><span data-stu-id="512da-157">[PnP PowerShell](https://github.com/SharePoint/PnP-PowerShell/blob/master/README.md) - Script based customizations</span></span>
-  <span data-ttu-id="512da-158">[Schulung Plug & Play-CSOM-Kern](https://blogs.msdn.microsoft.com/vesku/2016/04/12/office-dev-pnp-core-componenttraining-package/) - basierte für Code Optionen</span><span class="sxs-lookup"><span data-stu-id="512da-158">[PnP CSOM Core training](https://blogs.msdn.microsoft.com/vesku/2016/04/12/office-dev-pnp-core-componenttraining-package/) - For code based options</span></span>
